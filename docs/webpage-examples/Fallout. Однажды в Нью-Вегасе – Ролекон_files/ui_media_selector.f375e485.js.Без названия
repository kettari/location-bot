(()=>{"use strict";var e,t,s,n,i,a,c,o,r={791947:(e,t,s)=>{function n(){return{icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.74 3.76c.35.34.35.9 0 1.23l-7.31 7.25a.88.88 0 0 1-1.25 0L2.26 9.36a.87.87 0 0 1 0-1.23.88.88 0 0 1 1.24 0l2.3 2.26 6.7-6.63a.88.88 0 0 1 1.24 0Z" fill="currentColor"/></svg>',name:"done_16"}}s.d(t,{getIcon16Done:()=>n})},318227:(e,t,s)=>{s.d(t,{createPostTooltip:()=>d,getPostTooltipOptionText:()=>l,updatePostTooltipActionRadioBtn:()=>u});var n=s(754866),i=s(250598),a=s(683234),c=s(791947),o=s(342018),r=s(478752);const d=(e,t,s,a)=>{const c=t||"",d=e+c,u=(0,n.ge)(d),l=(0,n.geByClass1)("post_action_tt_content",u),_=(0,n.geByClass1)("post_action_btn_layout",u),b=l.children;window.radioBtns["post_settings_btn"+e+c]={val:!1,els:b};if((0,n.hasClass)(u,"disabled"))return;const h=[-12*(window.vk.rtl?-1:1),7],T=new i.ElementTooltip(_,(0,r.extend)({appendTo:u,forceSide:"bottom",autoShow:!1,cls:"eltt_fancy eltt_fancy_actions",noOverflow:!1,centerShift:0,offset:h,content:l,align:"left",onFirstTimeShow:()=>{(0,n.show)(l)}},a));return cur[e+c]=T,(0,o.pushNavDestroy)((()=>{T&&T.destroy()})),s&&(cur[e+c+"_onChange"]=s),{toooltip:T}},u=(e,t,s)=>{if(window.radioBtns[s]&&!(0,n.hasClass)(e,"disabled"))return window.radioBtns[s].els.forEach((t=>{if(t===e){if(e.querySelector(".FancyElementTT__checkIcon"))return;const{icon:s}=(0,c.getIcon16Done)(),n=`<span class="FancyElementTT__checkIcon">${s}</span>`;t.innerHTML=n+t.innerHTML}else{const e=t.querySelector(".FancyElementTT__checkIcon");e?.remove()}})),(0,a.radiobtn)(e,t,s)},l=e=>e.querySelector(".FancyElementTT__itemLabel")?.innerHTML},115208:(e,t,s)=>{s.d(t,{NO_POST_ID:()=>i,THUMB_TYPE_ALBUM:()=>r,THUMB_TYPE_DOC:()=>a,THUMB_TYPE_MARKET_ALBUM:()=>d,THUMB_TYPE_PHOTO:()=>c,THUMB_TYPE_VIDEO:()=>o,addThumbsInData:()=>g,deleteThumbInData:()=>w,getAttachmentAction:()=>E,getThumbByIndex:()=>p,getThumbsMediaItems:()=>h,isDocSecondaryEnabled:()=>l,isOnlyNotPhotoThumbData:()=>T,isPrimaryGifAndOtherDocSecondaryEnabled:()=>u,isValidThumbType:()=>_,moveThumbsInData:()=>f});var n=s(540462);const i="no_post_id",a="doc",c="photo",o="video",r="album",d="market_album",u=()=>(0,n.partConfigEnabled)("web_posting_photo_doc_thumb_secondary"),l=()=>(0,n.partConfigEnabled)("web_posting_doc_thumb_secondary");function _(e){const t=[c,o];return(0,n.partConfigEnabled)("attachments_primary_mode_web_feature")||t.push(r,d),l()||t.push(a),!!~t.indexOf(e.toString())}const b=([e,,t])=>e!==a||l()?_(e):"editable"in t&&function(e){return e.editable&&("gif"!==e.ext&&!u()||"gif"===e.ext&&u())}(t),h=e=>e?.filter(b)??[],T=e=>0===e?.filter((e=>e[0]===c)).length;const f=(e,t,s)=>{const n=h(s),i=s.map((e=>_(e[0])?void 0:e)),a=n[e];return n.splice(e,1),n.splice(t,0,a),i.map((e=>e||n.shift()))},p=(e,t)=>h(t)[e],w=(e,t)=>{const s=p(e,t);return t.filter((e=>e!==s))},g=(e,t)=>{const[s,n]=e,i=t.findIndex((([e,t])=>e===s&&t===n));return i<0?t.push(e):t[i]=e,t},E=(e,t,s)=>{if(t)return{href:t,ariaLabel:e,isExternal:s}}},847935:(e,t,s)=>{s.d(t,{POST_PARAM_DONUT_DURATION:()=>n});const n="donut_duration"},587258:(e,t,s)=>{s.d(t,{ATTACH_VIEW_EVENTS:()=>n,POSTING_STATS_NAME:()=>i});const n={grid:"grid_mode",carousel:"carousel_mode"},i="posting_web_stats"},33132:(e,t,s)=>{s.d(t,{ErrorEvent:()=>i});var n=s(900181);class i{setMessage(e){this.message=e}setCode(e){this.code=e}getStatValue(){const{message:e,code:t}=this;return{message:e,code:t}}getStatEvent(){const e=this.getStatValue();return e?{type:n.POSTING_TIMELINE_EVENT_TYPES.ERROR,[n.POSTING_TIMELINE_EVENT_TYPES.ERROR]:e}:null}getValue(){const{message:e,code:t}=this;return{message:e,code:t}}}},439667:(e,t,s)=>{s.d(t,{FileUploadingErrorEvent:()=>a});var n=s(55809),i=s(900181);class a{setFileType(e){this.fileType=e}setStartTime(e){this.timeRange.setStartTime(e)}setEndTime(e){this.timeRange.setEndTime(e)}setMessage(e){this.message=e}setCode(e){this.code=e}getStatValue(){const{fileType:e,timeRange:t,message:s,code:n}=this;if(e){const i=t.getStatValue();if(i)return{file_type:e,time_range:i,message:s,code:n}}return null}getStatEvent(){const e=this.getStatValue();return e?{type:i.POSTING_TIMELINE_EVENT_TYPES.FILE_UPLOADING_ERROR,[i.POSTING_TIMELINE_EVENT_TYPES.FILE_UPLOADING_ERROR]:e}:null}getValue(){const{fileType:e,timeRange:t,message:s,code:n}=this;return{fileType:e,timeRange:t,message:s,code:n}}constructor(){this.fileType=null,this.timeRange=new n.TimeRangeValue}}},751281:(e,t,s)=>{s.d(t,{FileUploadingEvent:()=>a});var n=s(55809),i=s(900181);class a{setFileType(e){this.fileType=e}setStartTime(e){this.timeRange.setStartTime(e)}setEndTime(e){this.timeRange.setEndTime(e)}getStatValue(){const{fileType:e,timeRange:t}=this;if(e){const s=t.getStatValue();if(s)return{file_type:e,time_range:s}}return null}getStatEvent(){const e=this.getStatValue();return e?{type:i.POSTING_TIMELINE_EVENT_TYPES.FILE_UPLOADING,[i.POSTING_TIMELINE_EVENT_TYPES.FILE_UPLOADING]:e}:null}getValue(){const{fileType:e,timeRange:t}=this;return{fileType:e,timeRange:t}}constructor(){this.fileType=null,this.timeRange=new n.TimeRangeValue}}},539920:(e,t,s)=>{s.d(t,{PickerAttachmentAttachingEvent:()=>a});var n=s(900181),i=s(55809);class a{setAttachmentType(e){this.attachmentType=e}setStartTime(e){this.timeRange.setStartTime(e)}setEndTime(e){this.timeRange.setEndTime(e)}getStatValue(){const{attachmentType:e,timeRange:t}=this;if(e){const s=t.getStatValue();if(s)return{time_range:s,picker_type:e}}return null}getStatEvent(){const e=this.getStatValue();return e?{type:n.POSTING_TIMELINE_EVENT_TYPES.PICKER_ATTACHMENT_ATTACHING,[n.POSTING_TIMELINE_EVENT_TYPES.PICKER_ATTACHMENT_ATTACHING]:e}:null}getValue(){const{attachmentType:e,timeRange:t}=this;return{attachmentType:e,timeRange:t}}constructor(){this.attachmentType=null,this.timeRange=new i.TimeRangeValue}}},963060:(e,t,s)=>{s.d(t,{PickerOpeningEvent:()=>a});var n=s(55809),i=s(900181);class a{setAttachmentType(e){this.attachmentType=e}setStartTime(e){this.timeRange.setStartTime(e)}setEndTime(e){this.timeRange.setEndTime(e)}getStatValue(){const{attachmentType:e,timeRange:t}=this;if(e){const s=t.getStatValue();if(s)return{time_range:s,picker_type:e}}return null}getStatEvent(){const e=this.getStatValue();return e?{type:i.POSTING_TIMELINE_EVENT_TYPES.PICKER_OPENING,[i.POSTING_TIMELINE_EVENT_TYPES.PICKER_OPENING]:e}:null}getValue(){const{attachmentType:e,timeRange:t}=this;return{attachmentType:e,timeRange:t}}constructor(){this.attachmentType=null,this.timeRange=new n.TimeRangeValue}}},252055:(e,t,s)=>{s.d(t,{PostPublishingErrorEvent:()=>a});var n=s(900181),i=s(55809);class a{setStartTime(e){this.timeRange.setStartTime(e)}setEndTime(e){this.timeRange.setEndTime(e)}setMessage(e){this.message=e}setCode(e){this.code=e}getStatValue(){const{timeRange:e,message:t,code:s}=this,n=e.getStatValue();return n?{time_range:n,message:t,code:s}:null}getStatEvent(){const e=this.getStatValue();return e?{type:n.POSTING_TIMELINE_EVENT_TYPES.POST_PUBLISHING_ERROR,[n.POSTING_TIMELINE_EVENT_TYPES.POST_PUBLISHING_ERROR]:e}:null}getValue(){const{timeRange:e,message:t,code:s}=this;return{timeRange:e,message:t,code:s}}constructor(){this.timeRange=new i.TimeRangeValue}}},335927:(e,t,s)=>{s.d(t,{PostPublishingTimeRangeEvent:()=>a});var n=s(900181),i=s(55809);class a{setStartTime(e){this.value.setStartTime(e)}setEndTime(e){this.value.setEndTime(e)}getStatEvent(){const e=this.value.getStatValue();return e?{type:n.POSTING_TIMELINE_EVENT_TYPES.POST_PUBLISHING_TIME_RANGE,[n.POSTING_TIMELINE_EVENT_TYPES.POST_PUBLISHING_TIME_RANGE]:e}:null}getValue(){return this.value.getValue()}constructor(){this.value=new i.TimeRangeValue}}},55809:(e,t,s)=>{s.d(t,{TimeRangeValue:()=>n});class n{setStartTime(e){null!==this.endTime&&e>this.endTime&&(this.endTime=null),this.startTime=e}setEndTime(e){null!==this.startTime&&this.startTime<=e&&(this.endTime=e)}getStatValue(){return null!==this.startTime&&null!==this.endTime&&this.startTime<=this.endTime?{start_time:this.startTime,end_time:this.endTime}:null}getValue(){const{startTime:e,endTime:t}=this;return{startTime:e,endTime:t}}constructor(){this.startTime=null,this.endTime=null}}},807156:(e,t,s)=>{s.d(t,{ErrorEvent:()=>n.ErrorEvent,FileUploadingErrorEvent:()=>i.FileUploadingErrorEvent,PickerAttachmentAttachingEvent:()=>a.PickerAttachmentAttachingEvent,PostPublishingErrorEvent:()=>c.PostPublishingErrorEvent});var n=s(33132),i=s(439667),a=(s(751281),s(539920)),c=(s(963060),s(252055));s(335927)},36644:(e,t,s)=>{s.d(t,{POSTING_FILE_TYPES:()=>i.POSTING_FILE_TYPES,POSTING_PICKER_TYPES:()=>i.POSTING_PICKER_TYPES,POSTING_TIMELINE_CREATION_ENTRY_POINTS:()=>i.POSTING_TIMELINE_CREATION_ENTRY_POINTS,POSTING_TIMELINE_POST_TYPES:()=>i.POSTING_TIMELINE_POST_TYPES,postingTimelineLogger:()=>a});var n=s(558876),i=s(900181);const a=new n.PostingTimelineLogger},558876:(e,t,s)=>{s.d(t,{PostingTimelineLogger:()=>_});var n=s(305721),i=s(900181),a=s(963060),c=s(751281),o=s(335927),r=s(807156),d=s(428193),u=s(971878),l=s(540462);class _{logStartTimeline(e={}){if(!(0,u.isPostingPerfStatsEnabled)()&&!(0,l.partConfigEnabled)("posting_mvk_perf_stats"))return;if(this.screenStartTime?.time&&(0,d.getCurrentTimeMs)()-this.screenStartTime?.time<=18e7)return;this.resetEventItem();const{isEditing:t,postType:s,creationEntryPoint:n,trackCode:a}=e;this.screenStartTime=(0,d.getCurrentTimeValue)(),this.context={is_editing:t??!1,post_type:s??i.POSTING_TIMELINE_POST_TYPES.REGULAR,creation_entry_point:n??i.POSTING_TIMELINE_CREATION_ENTRY_POINTS.OTHER,track_code:a??""}}logScreenInitialization(){this.screenInitializedTime||(this.screenInitializedTime=(0,d.getCurrentTimeValue)())}logScreenInteractionReady(){this.screenInteractionTime||(this.screenInteractionTime=(0,d.getCurrentTimeValue)())}logScreenClose(){this.finishTimeline(),this.sendCurrentEvent()}logStartSending(){this.currentEvents.postPublishingTimeRange||(this.currentEvents.postPublishingTimeRange=new o.PostPublishingTimeRangeEvent),this.currentEvents.postPublishingTimeRange.setStartTime((0,d.getCurrentTimeMs)())}logSuccessfullySend(){this.currentEvents.postPublishingTimeRange&&(this.currentEvents.postPublishingTimeRange.setEndTime((0,d.getCurrentTimeMs)()),this.events.push(this.currentEvents.postPublishingTimeRange),this.finishTimeline(),this.sendCurrentEvent())}logPostPublishingError({code:e,message:t}){if(!(0,l.partConfigEnabled)("posting_web_perf_stats_post_publishing_enabled"))return;const{postPublishingTimeRange:s}=this.currentEvents;if(!s)return;const n=s.getValue()?.startTime;if(!n)return;const i=new r.PostPublishingErrorEvent;i.setStartTime(n),i.setEndTime((0,d.getCurrentTimeMs)()),i.setCode(e??0),i.setMessage(t??"unknown"),this.events.push(i),delete this.currentEvents.postPublishingTimeRange}finishTimeline(){this.screenCloseTime=(0,d.getCurrentTimeValue)()}logPickerOpening({pickerType:e}){const t=new a.PickerOpeningEvent;t.setStartTime((0,d.getCurrentTimeMs)()),t.setAttachmentType(e),this.currentEvents.pickerOpening=t}logPickerReady(){const{pickerOpening:e}=this.currentEvents;e&&(e.setEndTime((0,d.getCurrentTimeMs)()),this.events.push(e),delete this.currentEvents.pickerOpening)}logStartFileUploading({fileType:e,rawId:t}){this.uploadingFiles[t]||(this.uploadingFiles[t]={startTime:(0,d.getCurrentTimeMs)(),fileType:e})}logFileLoaded({rawId:e}){if(!this.uploadingFiles[e])return;const{startTime:t,fileType:s}=this.uploadingFiles[e],n=new c.FileUploadingEvent;n.setStartTime(t),n.setEndTime((0,d.getCurrentTimeMs)()),n.setFileType(s),delete this.uploadingFiles[e],this.events.push(n)}logFileLoadingError({code:e,message:t,rawId:s}){const n=this.uploadingFiles[s];if(!n)return;const i=n.fileType,a=n.startTime;if(!a||!i)return;const c=new r.FileUploadingErrorEvent;c.setStartTime(a),c.setEndTime((0,d.getCurrentTimeMs)()),c.setFileType(i),e&&c.setCode(e),t&&c.setMessage(t),this.events.push(c),delete this.uploadingFiles[s]}logStartAttaching({pickerType:e}){const t=new r.PickerAttachmentAttachingEvent;t.setStartTime((0,d.getCurrentTimeMs)()),t.setAttachmentType(e),this.currentEvents.pickerAttachmentAttaching=t}logFinishAttaching(){const{pickerAttachmentAttaching:e}=this.currentEvents;e&&(e.setEndTime((0,d.getCurrentTimeMs)()),this.events.push(e),delete this.currentEvents.pickerAttachmentAttaching)}logError({code:e,message:t}){const s=new r.ErrorEvent;e&&s.setCode(e),t&&s.setMessage(t.slice(0,128)),this.events.push(s)}changePostType(e){this.context&&(this.context.post_type=e)}changePostParams(e={}){if(!this.context)return;const{isEditing:t,postType:s,creationEntryPoint:n,trackCode:i}=e,a={};null!=t&&(a.is_editing=t),null!=s&&(a.post_type=s),null!=n&&(a.creation_entry_point=n),null!=i&&(a.track_code=i),this.context={...this.context,...a}}sendCurrentEvent(){const e=this.createStatEventItem();e&&this.postingTimelineCollector.logEvent(e),this.resetEventItem()}createStatEventItem(){const{screenStartTime:e,screenInitializedTime:t,screenInteractionTime:s,screenCloseTime:n,context:i,events:a}=this;if(e&&s&&t&&n&&i){const c=[];a.forEach((e=>{const t=e.getStatEvent();t&&(c.length<50||e instanceof o.PostPublishingTimeRangeEvent)&&c.push(t)}));return{screen_start_time:e,screen_initialized_time:t,screen_interaction_time:s,screen_close_time:n,context:i,events:c}}return null}resetEventItem(){this.screenStartTime=null,this.screenCloseTime=null,this.screenInitializedTime=null,this.screenInteractionTime=null,this.context=null,this.events=[],this.currentEvents={}}constructor(){this.screenStartTime=null,this.screenInteractionTime=null,this.screenInitializedTime=null,this.screenCloseTime=null,this.context=null,this.events=[],this.currentEvents={},this.uploadingFiles={},this.postingTimelineCollector=new n.PostingTimelineCollector}}},900181:(e,t,s)=>{s.d(t,{POSTING_FILE_TYPES:()=>o,POSTING_PICKER_TYPES:()=>c,POSTING_TIMELINE_CREATION_ENTRY_POINTS:()=>i,POSTING_TIMELINE_EVENT_TYPES:()=>a,POSTING_TIMELINE_POST_TYPES:()=>n});const n={REGULAR:"regular",POSTPONED:"postponed",SUGGESTED:"suggested",POST_TEXT_LIVE:"post_text_live",POST_DONUT:"post_donut",EDIT:"edit",COMMENT:"comment",COMMENT_BOARD:"comment_board",COMMENT_MARKET:"comment_market"},i={PROFILE_INPUT:"profile_input",FEED_INPUT:"feed_input",COMMUNITY_INPUT:"community_input",OTHER:"other"},a={FILE_UPLOADING:"file_uploading",FILE_UPLOADING_ERROR:"file_uploading_error",PICKER_OPENING:"picker_opening",PICKER_ATTACHMENT_ATTACHING:"picker_attachment_attaching",POST_PUBLISHING_TIME_RANGE:"post_publishing_time_range",POST_PUBLISHING_ERROR:"post_publishing_error",ERROR:"error"},c={ALBUM:"album",ARTICLE:"article",DOCUMENT:"document",MARKET:"market",MUSIC:"music",PLACE:"place",PHOTO:"photo",PHOTO_VK:"photo_vk",POLL:"poll",SERVICE:"service",TAKE_PHOTO:"take_photo",VIDEO:"video",VIDEO_VK:"video_vk"},o={PHOTO:"photo",VIDEO:"video",DOCUMENT:"document"}},428193:(e,t,s)=>{s.d(t,{getCurrentTimeMs:()=>n,getCurrentTimeValue:()=>i});const n=()=>1e3*Date.now(),i=()=>({time:n()})},971878:(e,t,s)=>{s.d(t,{isPostingPerfStatsEnabled:()=>r,isPostingStatsEnabled:()=>c,sendPostingEvent:()=>o});var n=s(636576),i=s(587258),a=s(540462);const c=()=>(0,a.partConfigEnabled)("posting_web_input_stats"),o=e=>{c()&&(0,n.statlogsValueEvent)(i.POSTING_STATS_NAME,"",e)},r=()=>(0,a.partConfigEnabled)("posting_web_perf_stats")},305721:(e,t,s)=>{s.d(t,{PostingTimelineCollector:()=>a});var n=s(452223),i=s(314309);class a{logEvent(e){const t={...this.productionStatCollector.getBaseEvent(),type:n.ActionProductionStatEventTypes.TYPE_POSTING_TIMELINE,[n.ActionProductionStatEventTypes.TYPE_POSTING_TIMELINE]:e};this.productionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new i.ProductionStatCollector}}},723294:(e,t,s)=>{s.d(t,{ACTION_BUTTON_DISABLED:()=>i,ACTION_BUTTON_ID:()=>n,ATTACHMENT_PRIMARY_MODE:()=>a});const n="primary_attachments_view_btn",i="post_attachments_view_disabled",a={grid:"grid",carousel:"carousel"}},320432:(e,t,s)=>{s.d(t,{ATTACH_DATA_DONUT_DURATION:()=>n,DONUT_DURATION_DEFAULT:()=>a,MEDIA_TYPE_DONUT_DURATION:()=>i});const n="donut_duration",i="donut_duration",a=-1},903700:(e,t,s)=>{s.d(t,{donutVisibilityInit:()=>g});var n=s(26023),i=s(754866),a=s(478752),c=s(318227),o=s(199217),r=s(237041),d=s(320432),u=s(972332),l=s(683234),_=s(790420),b=s(298077),h=s(36644),T=s(971878);class f extends Error{}const p="post_settings_btn";class w{setPostDonutOnly(){this.setDonutDuration(d.DONUT_DURATION_DEFAULT)}donutUpdateVisibility(e){this.actionsUpdateVisibilityView(e)}getEmitter(){return this.addMedia.emitter}tooltipVisibilityInitView(){const e=this.getLnkId(),t=(0,a.getTemplate)("visibility_access_donut",{link_id:e});if(!t)throw new f;if(this.visibilityTooltipEl=(0,i.se)(t),!this.visibilityTooltipEl)throw new f;(0,o.domInsertChildAfterOtherChild)(this.visibilityTooltipEl,this.containerEl),this.tooltipDonutVisibility=(0,c.createPostTooltip)(w.TOOLTIP_VISIBILITY_NAME,e)?.toooltip,(0,n.default)(this.containerEl,w.TOOLTIP_VISIBILITY_OPTION_SELECTOR,"click",this.chooseDonutVisibility)}tooltipDurationInitView(){const e=this.getLnkId(),t=(0,a.getTemplate)("donut_duration_select",{link_id:e});if(!t)throw new f;if(this.durationTooltipEl=(0,i.se)(t),!this.durationTooltipEl)throw new f;(0,o.domInsertChildAfterOtherChild)(this.durationTooltipEl,this.containerEl,this.visibilityTooltipEl),this.tooltipDonutDuration=(0,c.createPostTooltip)(w.TOOLTIP_DURATION_NAME,e)?.toooltip,(0,n.default)(this.containerEl,w.TOOLTIP_DURATION_OPTION_SELECTOR,"click",this.chooseDonutDuration)}getLnkId(){return this.addMedia.lnkId}static getEventParams(e){const t=e.delegateTarget||e.target;return!(0,u.checkEvent)(e)&&t instanceof HTMLElement&&(0,r.getActionData)(t)?.actionParams}setDonutDuration(e){w.isDurationValueEmpty(e)?this.addMedia.unchooseMediaForType(d.MEDIA_TYPE_DONUT_DURATION):this.addMedia.addOrUpdateChosenMedia(d.MEDIA_TYPE_DONUT_DURATION,"",{[d.ATTACH_DATA_DONUT_DURATION]:e})}static isDurationValueEmpty(e){return null===e}getTooltipVisibilityActiveElement(e){const t=null!==e?d.DONUT_DURATION_DEFAULT:null;return this.containerEl.querySelector(`${w.TOOLTIP_VISIBILITY_OPTION_SELECTOR}[data-value="${t}"]`)}getTooltipDurationActiveElement(e){return this.containerEl.querySelector(`${w.TOOLTIP_DURATION_OPTION_SELECTOR}[data-value="${e}"]`)}getActiveDurationOption(){const e=this.addMedia.findChosenMedia(d.MEDIA_TYPE_DONUT_DURATION),t=e?(0,_.getDurationFromMediaItem)(e):void 0;return void 0!==t?t:null}tooltipVisibilityUpdateView(){const e=this.getActiveDurationOption(),t=String(this.getLnkId())||"",s=this.getTooltipVisibilityActiveElement(e),n=!w.isDurationValueEmpty(e),o=this.visibilityTooltipEl;(0,c.updatePostTooltipActionRadioBtn)(s,e,`${p}${w.TOOLTIP_VISIBILITY_NAME}${t}`);const r=o?.querySelector(".post_action_btn_text"),d=s&&(0,c.getPostTooltipOptionText)(s)||"";r&&d&&(r.innerHTML=d,r.setAttribute("aria-label",(0,a.replaceEntities)(d))),(0,i.toggleClass)(o,"on",n)}tooltipDurationUpdateView(){const e=this.getActiveDurationOption(),t=String(this.getLnkId())||"",s=this.getTooltipDurationActiveElement(e),n=!w.isDurationValueEmpty(e),r=n&&!!e&&(0,o.isDonutDurationFinite)(e),d=this.durationTooltipEl;(0,c.updatePostTooltipActionRadioBtn)(s,e,`${p}${w.TOOLTIP_DURATION_NAME}${t}`);const u=d?.querySelector(".post_action_btn_text"),_=r?s&&(0,c.getPostTooltipOptionText)(s):(0,i.domData)(u,"empty"),b=s?_:"";u&&b&&(u.innerHTML=b,u.setAttribute("aria-label",(0,a.replaceEntities)(b))),(0,i.toggleClass)(d,"on",r),(0,i.toggleClass)(d,"visible",n);const h=this.addMedia.markAsAdsGetCheckboxEl();h&&(0,l.disable)(h,n)}actionsUpdateVisibilityView(e){const t=e??this.getPostboxForNewPost(),s=(0,_.isDonutPostSettingVisible)(t,this.addMedia);return this.visibilityTooltipEl&&this.durationTooltipEl?((0,i.toggleClass)(this.containerEl,"post_actions_btns--donut-actions-hidden",!s),s):s}getPostboxForNewPost(){return"post_actions_btns"===this.containerEl.id?document.querySelector("#submit_post_box"):null}constructor(e,t){this.containerEl=e,this.addMedia=t,this.updateView=()=>{if(!this.isInitialized)return;this.actionsUpdateVisibilityView()&&(this.tooltipVisibilityUpdateView(),this.tooltipDurationUpdateView())},this.chooseDonutVisibility=e=>{const t=w.getEventParams(e);if(!t)return!1;this.tooltipDonutVisibility?.hide?.(),this.setDonutDuration(t.donut_duration),(0,T.isPostingPerfStatsEnabled)()&&window.Wall?.postingTimelineLogger?.changePostType(h.POSTING_TIMELINE_POST_TYPES.POST_DONUT)},this.chooseDonutDuration=e=>{const t=w.getEventParams(e);if(!t)return!1;this.tooltipDonutDuration?.hide?.(),this.setDonutDuration(t.donut_duration)};try{this.tooltipVisibilityInitView(),this.tooltipDurationInitView(),this.isInitialized=!0,this.updateView();const e=this.getEmitter();e&&e.on(this.addMedia.eventTypes.mediaUpdate,this.updateView)}catch(e){e instanceof f||(0,b.logError)(e),console.error(e),this.isInitialized=!1}}}w.TOOLTIP_DURATION_NAME="post_donut_duration_btn",w.TOOLTIP_DURATION_OPTION_SELECTOR='[data-onclick="toggleDonutPostDuration"]',w.TOOLTIP_VISIBILITY_NAME="donut_visibility_btn",w.TOOLTIP_VISIBILITY_OPTION_SELECTOR='[data-onclick="toggleDonutPostVisibility"]';const g=e=>{const{actionsEl:t,addMedia:s}=e;if(!(t instanceof Element))return;const n=new w(t,s);return{donutPostSettings:n.isInitialized?n:void 0}}},367105:(e,t,s)=>{s.d(t,{ATTACH_DATA_DONUT_DURATION:()=>n.ATTACH_DATA_DONUT_DURATION,MEDIA_TYPE_DONUT_DURATION:()=>n.MEDIA_TYPE_DONUT_DURATION,donutVisibilityInit:()=>i.donutVisibilityInit,fieldValueIsDonutOnlyPost:()=>a.fieldValueIsDonutOnlyPost,getDonutPostParams:()=>a.getDonutPostParams,getPostParamsFromDurationMedia:()=>a.getPostParamsFromDurationMedia,isPaidAttachPicked:()=>a.isPaidAttachPicked});var n=s(320432),i=s(903700),a=s(375222)},199217:(e,t,s)=>{s.d(t,{domInsertChildAfterOtherChild:()=>a,isDonutDurationFinite:()=>i});var n=s(754866);const i=e=>e>0,a=(e,t,s)=>{s?(0,n.domInsertAfter)(e,s):t&&(t.firstChild?(0,n.domInsertBefore)(e,t.firstChild):e&&t.appendChild(e))}},237041:(e,t,s)=>{s.d(t,{getActionData:()=>i});var n=s(581197);const i=e=>{const t=(0,n.getJsonDataValue)(e,"data-action-params");if("object"==typeof t||null===t)return{actionParams:t}}},375222:(e,t,s)=>{s.d(t,{fieldValueIsDonutOnlyPost:()=>d,getDonutPostParams:()=>u,getPostParamsFromDurationMedia:()=>o,isPaidAttachPicked:()=>l});var n=s(847935),i=s(320432),a=s(449299),c=s(790420);const o=e=>{const t=(0,c.getDurationFromMediaItem)(e);return void 0!==t?{[n.POST_PARAM_DONUT_DURATION]:t}:void 0},r=e=>{const t=e.findChosenMedia&&e.findChosenMedia(i.MEDIA_TYPE_DONUT_DURATION);return(0,c.getDurationFromMediaItem)(t)},d=(e,t)=>void 0!==(t&&r(t))&&(0,c.isDonutPostSettingVisible)(e,t)?1:0,u=(e,t)=>{if(!e||!t)return;const s=r(t)||i.DONUT_DURATION_DEFAULT;return{[n.POST_PARAM_DONUT_DURATION]:s,mark_as_ads:0}},l=(e,t)=>{const s=e.getMedias&&e.getMedias();return!!s&&s.some((e=>((e,t)=>{switch(e[0]){case"article":{const s=e?.[5],n=s?.owner_id;return Boolean(n===t&&s?.is_donut)}case"podcast":{const s=e?.[5]?.audio,n=s?.[12],i=s?.[1];return Boolean(i===t&&(0,a.parseJSON)(n).paid)}default:return!1}})(e,t)))}},790420:(e,t,s)=>{s.d(t,{getDurationFromMediaItem:()=>r,isDonutPostSettingVisible:()=>o});var n=s(683234),i=s(754866),a=s(320432),c=s(468073);const o=(e,t)=>{const s=(e=>{if(!(e instanceof Element)||"submit_post_box"!==e.id)return!0;const t=parseInt((0,i.domData)(e,"from-oid"))||void 0;return!!t&&c.Ranges.isGroupId(t)})(e),a=(e=>{const t=e?.markAsAdsGetCheckboxEl?.();return!t||!(0,n.isChecked)(t)})(t);return s&&a},r=e=>{const t=e?.[5]?.[a.ATTACH_DATA_DONUT_DURATION];return void 0!==t?t:void 0}},968398:(e,t,s)=>{try{var n=s(636576),i=s(401397);window.vk?.stDomain&&(s.p=window.vk.stDomain+"/dist/"),s._dG("MediaSelector",i.MediaSelector),(a=window.requestIdleCallback)||(a=e=>setTimeout((()=>e()),1)),a((()=>{try{(0,n.statlogsValueEvent)("entries_requests",1,"ui_media_selector","web")}catch{}}),{timeout:5e3}),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/ui_media_selector.f375e485.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/web/ui_media_selector.f375e485.js",e),e}var a},806917:(e,t,s)=>{s.d(t,{ACTION_BUTTON_DISABLED:()=>a,ACTION_BUTTON_ID:()=>i,ORIGINAL_RATIO_CLASS_NAME:()=>d,RATIO_TOOLTIP_WIDTH:()=>o,RatioShowValue:()=>c,STORAGE_HINT_NAME:()=>r});var n=s(440647);const i="carousel_ratio_btn",a="post_carousel_ratio_disabled",c={[n.Ratio.WIDE]:"4:3",[n.Ratio.SQUARE]:"1:1",[n.Ratio.LOWER]:"4:5",[n.Ratio.HIGH]:"3:4",[n.Ratio.HIGHER]:"2:3",[n.Ratio.WIDER]:"16:9"},o="110px",r="posting_carousel_ratio_hint_show_count",d="CarouselRatio__original"},700230:(e,t,s)=>{s.d(t,{changeCropDataFromArrayToObject:()=>f,changeCropDataFromArrayToString:()=>p,changeCropDataFromObjectToArray:()=>T,getNearestRatioForThumb:()=>_,getNearestRatioForThumbWithCorridor:()=>b,isCarouselCorridorEnabled:()=>c,isCarouselCropEnabled:()=>w,isFirstRatioNotEquelAllRatioThumbs:()=>h,ratioValues:()=>o});var n=s(440647),i=s(540462),a=s(351118);const c=()=>(0,i.partConfigEnabled)("con_posting_carousel_corridor_web"),o=c()?[n.Ratio.HIGHER,n.Ratio.HIGH,n.Ratio.LOWER,n.Ratio.SQUARE,n.Ratio.WIDE,n.Ratio.WIDER]:[n.Ratio.HIGH,n.Ratio.SQUARE,n.Ratio.WIDE,n.Ratio.WIDER],r=Math.max(...o),d=Math.min(...o),u=(e,t=!1)=>{const s=e[2].editable?.sizes,i=s&&Object.values(s).map((([e,t,s])=>({url:e,width:t,height:s}))),c=i&&(0,a.getPhotoSize)(i,Number.MAX_VALUE),o=c&&c.width/c.height,r=e[2].crop_data;return!t&&r&&r[2]/r[3]||o||n.Ratio.WIDE},l=e=>o.reduce(((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t)),_=(e,t=!1)=>{const s=u(e,t);return l(s)},b=(e,t=!1)=>{const s=u(e,t),n=l(s);return s>r||s<d||Math.abs(s-n)<.01?n:s},h=e=>{if(!e.length)return!1;const t=((e,t=!1)=>{const s={};return o.forEach((e=>s[e]=0)),e.forEach((e=>{s[_(e,t)]++})),Number(Object.entries(s).reduce(((e,t)=>t[1]>e[1]?t:e))[0])})(e,!0);return t!==_(e[0])&&t},T=e=>[e.x,e.y,e.width,e.height],f=e=>({x:e[0],y:e[1],width:e[2],height:e[3]}),p=e=>e.map((e=>Math.floor(Math.max(e,0)))).join(","),w=()=>(0,i.partConfigEnabled)("web_posting_carousel_crop")},411640:(e,t,s)=>{s.d(t,{MEDIA_SELECTOR_ALBUM:()=>_,MEDIA_SELECTOR_ARTICLE:()=>d,MEDIA_SELECTOR_AUDIO:()=>o,MEDIA_SELECTOR_DOC:()=>b,MEDIA_SELECTOR_GROUP:()=>n,MEDIA_SELECTOR_MAP:()=>h,MEDIA_SELECTOR_MARKET:()=>l,MEDIA_SELECTOR_PHOTO:()=>r,MEDIA_SELECTOR_POLL:()=>a,MEDIA_SELECTOR_PRODUCT:()=>i,MEDIA_SELECTOR_SHORT_VIDEO:()=>u,MEDIA_SELECTOR_VIDEO:()=>c});const n="group",i="product",a="poll",c="video",o="audio",r="photo",d="article",u="short_video",l="market",_="album",b="doc",h="map"},26023:(e,t,s)=>{s.d(t,{default:()=>a});const n=new WeakMap;function i(e,t,s,i){var a,c;if(!e&&!n.has(t))return!1;const o=null!==(a=n.get(t))&&void 0!==a?a:new WeakMap;if(n.set(t,o),!e&&!n.has(t))return!1;const r=null!==(c=o.get(s))&&void 0!==c?c:new Set;o.set(s,r);const d=r.has(i);return e?r.add(i):r.delete(i),d&&e}const a=function e(t,s,n,a,c){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const i=Array.prototype.map.call(t,(t=>e(t,s,n,a,c)));return{destroy(){i.forEach((e=>e.destroy()))}}}const o=t,r=Boolean("object"==typeof c?c.capture:c),d=e=>{const t=e.target.closest(s);t&&(e.delegateTarget=t,e.currentTarget.contains(e.delegateTarget)&&a.call(o,e))},u=JSON.stringify({selector:s,type:n,capture:r}),l=i(!0,o,a,u),_={destroy(){o.removeEventListener(n,d,c),i(!1,o,a,u)}};return l||o.addEventListener(n,d,c),_}}},d={};function __webpack_require__(e){var t=d[e];if(void 0!==t)return t.exports;var s=d[e]={exports:{}};return r[e].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.m=r,e=[],__webpack_require__.O=(t,s,n,i)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){for(var[s,n,i]=e[d],c=!0,o=0;o<s.length;o++)(!1&i||a>=i)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](s[o])))?s.splice(o--,1):(c=!1,i<a&&(a=i));if(c){e.splice(d--,1);var r=n();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,n,i]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);__webpack_require__.r(i);var a={};t=t||[null,s({}),s([]),s(s)];for(var c=2&n&&e;"object"==typeof c&&!~t.indexOf(c);c=s(c))Object.getOwnPropertyNames(c).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,__webpack_require__.d(i,a),i},__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,s)=>(__webpack_require__.f[s](e,t),t)),[])),__webpack_require__.u=e=>43925===e?"web/chunks/91d2d8ce.async.9370fdd4.js":60585===e?"web/chunks/ff8a6c31.async.b0ce3984.js":32466===e?"web/chunks/d115b1ed.async.55dd80d9.js":6864===e?"web/chunks/cd42e16f.async.cd3dec79.js":28131===e?"web/chunks/56227a32.async.3e8cafb9.js":79144===e?"web/chunks/61d77ba9.async.add6e5ea.js":55383===e?"web/chunks/559b34a3.async.350d1995.js":21426===e?"web/chunks/ae1a8c88.async.f22e4fb6.js":21358===e?"web/chunks/cee2b1c4.async.589a4406.js":76573===e?"web/chunks/2f5bcbf8.async.b5bb275d.js":57859===e?"web/chunks/15877459.async.aa0fbdf7.js":15718===e?"web/chunks/09f5fc3e.async.0caba9a1.js":92977===e?"web/chunks/69a79cb1.async.1dc7ea4e.js":20089===e?"web/chunks/31025993.async.20944bd1.js":6827===e?"web/chunks/podcasts_web.40954517.js":31779===e?"web/chunks/f9f29965.async.d1dfd03f.js":53297===e?"web/chunks/91d049b1.async.d6a18e8e.js":88651===e?"web/chunks/bookmarkClipPost.e5b319ea.js":61037===e?"web/chunks/grip-lib.e290cff5.js":24639===e?"web/chunks/plugins_maps_mmrgl_script_chunk.e5fd914b.js":30685===e?"web/chunks/plugins_maps_mmrgl_style_chunk.961eadc7.js":8870===e?"web/chunks/hls_lib.c0100db1.js":96239===e?"web/chunks/6712e253.async.7ff99185.js":21472===e?"web/chunks/3644232a.async.8ef54d73.js":77474===e?"web/chunks/5149ea20.async.aee73b5d.js":13625===e?"web/chunks/beb65620.async.8007717a.js":91696===e?"web/chunks/daa1f875.async.a01895c9.js":34190===e?"web/chunks/audio_config_legacy.c64fd0fb.js":82438===e?"web/chunks/audio_config_audioAdvertisingBannerViewModelProvider.8cb967b6.js":18586===e?"web/chunks/audio_config_overrides.88f7cd7c.js":28365===e?"web/chunks/749b661c.async.f0239f56.js":98271===e?"web/chunks/audio_web_globalPlayerImpl.8aaa0a91.js":13901===e?"web/chunks/e6bd1c98.async.c72424eb.js":4422===e?"web/chunks/34ba809f.async.87e02c8b.js":4885===e?"web/chunks/4ddc2c77.async.25c6d893.js":60778===e?"web/chunks/459ffa8d.async.aafb621a.js":84835===e?"web/chunks/unauth_action_box.088dbd73.js":19072===e?"web/chunks/left_menu_store.79a1131b.js":97126===e?"web/chunks/WebDI.f301a714.js":14801===e?"web/chunks/WebLayers.135b788f.js":15062===e?"web/chunks/3437339a.async.c6586d7a.js":6003===e?"web/chunks/a16d1efb.async.ca10635a.js":68254===e?"web/chunks/32fb6d6d.async.7cb953ae.js":81690===e?"web/chunks/380218b5.async.18541916.js":40222===e?"web/chunks/7307d950.async.f794e833.js":30159===e?"web/chunks/cbae66cf.async.3da27734.js":51943===e?"web/chunks/VideoUpload.c995fd24.js":26033===e?"web/chunks/e4d93263.async.82e71146.js":26907===e?"web/chunks/2da32626.async.536181e2.js":24794===e?"web/chunks/674608e7.async.0ee29ecc.js":52262===e?"web/chunks/b8c7894f.async.e7ceb485.js":3184===e?"web/chunks/b1eb5e9f.async.37fd021f.js":94151===e?"web/chunks/7ff7f0fd.async.4712ccce.js":88345===e?"web/chunks/4c87f851.async.e9006ea4.js":35546===e?"web/chunks/6a385253.async.6c8a6a67.js":76660===e?"web/chunks/6fb64a71.async.63c21dec.js":84039===e?"web/chunks/ad1df6db.async.e70a8a84.js":15402===e?"web/chunks/fe467238.async.baf24404.js":87921===e?"web/chunks/4982bd0a.async.3ebef59b.js":8649===e?"web/chunks/b390d1dc.async.81d79d4e.js":30643===e?"web/chunks/607f3c12.async.225231b9.js":35755===e?"web/chunks/0b817105.async.05b2b5f4.js":84287===e?"web/chunks/f03da3d9.async.25ec6183.js":63836===e?"web/chunks/MessengerClipsModal.b28097b9.js":82365===e?"web/chunks/gifts-open-gifts-catalog.91268946.js":96649===e?"web/chunks/ecomm_market_product_attach.06340e71.js":73035===e?"web/chunks/apps_attach_modal.3441fc32.js":50905===e?"web/chunks/money_transfer.fd5ee10b.js":30072===e?"web/chunks/showCaptchaPopup.07eed387.js":51490===e?"web/chunks/showCaptchaSDK.88e4e07c.js":22801===e?"web/chunks/db3c5e15.async.61dee495.js":13542===e?"web/chunks/nav.f7ade022.js":69252===e?"web/chunks/cc82796c.async.47ae7461.js":39660===e?"web/chunks/b2465e52.async.0c54af80.js":67765===e?"web/chunks/902daeb5.async.e119d786.js":52714===e?"web/chunks/9ce054b5.async.d8c69df2.js":88588===e?"web/chunks/1f1f4792.async.ad99a50f.js":3841===e?"web/chunks/297e03c9.async.ea267155.js":75908===e?"web/chunks/6016368a.async.07e07973.js":33641===e?"web/chunks/audio_modals_MusicTrackList.ba15f689.js":1715===e?"web/chunks/AudioLongtapModal.a76b10b7.js":4871===e?"web/chunks/web_audio_AnyAudioLegacyService.4d1925ef.js":65673===e?"web/chunks/7b0195bf.async.0f478145.js":31095===e?"web/chunks/PodcastEpisodeModal.eb3a95ab.js":26731===e?"web/chunks/im_chat_preview.bd10cd54.js":94160===e?"web/chunks/75f64ad0.async.4b52467b.js":36502===e?"web/chunks/NewStickerPicker.7950aa84.js":62229===e?"web/chunks/z_nav.a3696b2c.js":20781===e?"web/chunks/tutorial.b826ca3e.js":99370===e?"web/chunks/VideoEditorModal.a4fc5294.js":95805===e?"web/chunks/PublishClipToVideoModal.25c488c4.js":60127===e?"web/chunks/1e060051.async.17968a01.js":3705===e?"web/chunks/65b7f152.async.06c74c8e.js":61332===e?"web/chunks/fa48ade2.async.14e2bc3a.js":91906===e?"web/chunks/VideoUploadModal.d77c3adc.js":74205===e?"web/chunks/VideoExternalUploadModal.2e937fb5.js":36637===e?"web/chunks/ClipUploadModal.63fe4238.js":75090===e?"web/chunks/video_upload_modal.cd41978e.js":18493===e?"web/chunks/AddClipToVideoBlock.92e30364.js":56099===e?"web/chunks/OpenNewVideoEditorButton.3e1ee64e.js":6694===e?"web/chunks/menu_settings.ed42b0fd.js":81399===e?"web/chunks/threads-es.ce40a11c.js":99907===e?"web/chunks/04e1eb45.async.a282bb0a.js":52060===e?"web/chunks/16b49a2b.async.3d249c74.js":59933===e?"web/chunks/ReportMiniApp.21725171.js":66434===e?"web/chunks/ReportsProfileModal.4dcf3c4c.js":99595===e?"web/chunks/ReportForm.d99851f7.js":73214===e?"web/chunks/SilentModeForms.03437c14.js":68425===e?"web/chunks/sticker-gift-modal-legacy.fbdac022.js":16184===e?"web/chunks/335bac60.async.07856a88.js":52007===e?"web/chunks/gift-modal-legacy.59d37d9d.js":12477===e?"web/chunks/OnboardingTooltipMarker-1.8b4efdb3.js":25126===e?"web/chunks/OnboardingTooltipMarker-2.82800be7.js":89519===e?"web/chunks/OnboardingTooltipMarker-3.2f93e038.js":80496===e?"web/chunks/OnboardingTooltipMarker-4.ea0bbc95.js":93305===e?"web/chunks/OnboardingTooltipMarker-5.f7e7d7db.js":6114===e?"web/chunks/OnboardingTooltipMarker-6.48d9f311.js":87752===e?"web/chunks/491b1a10.async.d080974e.js":10085===e?"web/chunks/d178bdeb.async.19290b71.js":42920===e?"web/chunks/365e96e2.async.7598905a.js":52318===e?"web/chunks/20efbaf9.async.4eebe4be.js":95885===e?"web/chunks/45e0162e.async.7b0f8355.js":73810===e?"web/chunks/0ca398f5.async.efb7a01e.js":99056===e?"web/chunks/VideoShareModal.26a52741.js":23666===e?"web/chunks/rlottie.7fbb79b0.js":33651===e?"web/chunks/b90899e8.async.723f1ace.js":81652===e?"web/chunks/b962db66.async.d35699f6.js":52731===e?"web/chunks/stickers-layer-view.c55c1cba.js":16846===e?"web/chunks/stickers-layer-purchase-details-view.fbdeb36a.js":64273===e?"web/chunks/stickers-random-selector-view.5187b994.js":12318===e?"web/chunks/stickers-random-selector-packs-view.0320b97e.js":71409===e?"web/chunks/stickers-random-selector-result-view.403e041e.js":25153===e?"web/chunks/"+e+".35b53cd8.js":65852===e?"web/chunks/7a162ebe.async.4c3022d4.js":90874===e?"web/chunks/"+e+".2ac3b8fc.js":25817===e?"web/chunks/"+e+".90f724a2.js":58240===e?"web/chunks/"+e+".55d2b301.js":34517===e?"web/chunks/15e40cc3.async.0bc9cc89.js":43162===e?"web/chunks/framer-motion-entrypoint.e7eaa013.js":50756===e?"web/chunks/sticker.746bfe4e.js":37164===e?"web/chunks/384b25bc.async.1bbe3ce8.js":44373===e?"web/chunks/21eb7289.async.545a8dd6.js":43106===e?"web/chunks/9299afe2.async.9a7a4a21.js":88386===e?"web/chunks/gifts-catalog-modal-legacy.4006e7f4.js":50453===e?"web/chunks/web_nav_AudioPlayer.3572d19c.js":42255===e?"web/chunks/wikiModalExampleInitiator.0d6394c9.js":56965===e?"web/chunks/stories_web_lib.46edacfe.js":53927===e?"web/chunks/questions_boxes_web.ed4d239d.js":74336===e?"web/chunks/show_audio_playlist.3c8040f2.js":63301===e?"web/chunks/ade4828f.async.5b8494ad.js":90028===e?"web/chunks/2c8fae97.async.b7ef7844.js":10774===e?"web/chunks/show_attachment_audio_list.240de21a.js":17895===e?"web/chunks/money_transfer_box.6c0140e8.js":2166===e?"web/chunks/showDonutSubscriptionModal.b83f6550.js":4752===e?"web/chunks/c4851f31.async.d69b97f4.js":29311===e?"web/chunks/feed-client-nav-skeleton.e75a1812.js":56091===e?"web/chunks/feed-client-nav-async-right-block.d99401bf.js":47135===e?"web/chunks/audio_onMediaAttachmentPlayer.22fb154c.js":69240===e?"web/chunks/audio_postingPlayer.6b22916f.js":7894===e?"web/chunks/StickersKit-AgeRestrictionModal.7fc4cfc1.js":8559===e?"web/chunks/ExitConfirmationModal.027362e0.js":56560===e?"web/chunks/CreateVideoChannelModal.365fd12c.js":40953===e?"web/chunks/AddClipToVideoModal.a33de323.js":60274===e?"web/chunks/ClipPlayerModule.53c5b4cb.js":43451===e?"web/chunks/MiniAppService_MiniApp.bb669d72.js":36182===e?"web/chunks/66a232f7.async.8219f1e9.js":96374===e?"web/chunks/storyPublisher.1b908b09.js":5333===e?"web/chunks/stories-editor-fonts.5cff632e.js":22698===e?"web/chunks/web_index.a1a938b6.js":73538===e?"web/chunks/video_restore_button.6180dc0d.js":16673===e?"web/chunks/CatalogSnackbar.87657a14.js":70466===e?"web/chunks/d4e0cabb.async.e5b3541a.js":11635===e?"web/chunks/572c25f6.async.726911e6.js":30359===e?"web/chunks/862400cc.async.d51aa79f.js":34767===e?"web/chunks/NewVideoEditModal.a7cd8ccc.js":76376===e?"web/chunks/renderPlayerOverlay.2c32c272.js":12334===e?"web/chunks/stories-perf-metrics.ff7ed74a.js":86127===e?"web/chunks/cbaf9919.async.293e1771.js":72955===e?"web/chunks/2f87624e.async.2a6e6295.js":23227===e?"web/chunks/93dfe63d.async.20c2a579.js":7323===e?"web/chunks/4d6dd7d7.async.843ea278.js":81505===e?"web/chunks/9d6b2984.async.9b3a5677.js":80111===e?"web/chunks/4d5dabf2.async.d33a8147.js":46084===e?"web/chunks/4a1950da.async.181f33bb.js":22834===e?"web/chunks/35e2997e.async.cf429bbd.js":2163===e?"web/chunks/897797b7.async.9ae16945.js":98576===e?"web/chunks/dad43139.async.d7510224.js":60191===e?"web/chunks/stories_viewer.16159309.js":54833===e?"web/chunks/performance-stats.2f712780.js":9635===e?"web/chunks/9635.550c19a0.js":71011===e?"web/chunks/4f2708c4.async.bf21bb3c.js":32643===e?"web/chunks/story_blocks.99a6a15f.js":38308===e?"web/chunks/mvk-logout-modal.868e28f5.js":50915===e?"web/chunks/stories-creator-legacy-modal.66018086.js":61899===e?"web/chunks/interactive_video_onboarding.742bd6de.js":6531===e?"web/chunks/4065cb3c.async.77303554.js":80364===e?"web/chunks/a939d928.async.421eca5e.js":54790===e?"web/chunks/5e24fd7d.async.e6ce8208.js":64497===e?"web/chunks/LiveInfo.b871004f.js":73520===e?"web/chunks/ab7be8a3.async.95961c60.js":28458===e?"web/chunks/1c7242c3.async.c4bc9f5b.js":90513===e?"web/chunks/videoplayer_interactives.2cb56833.js":87807===e?"web/chunks/videoplayer_v3.2c0e6aeb.js":6885===e?"web/chunks/handleToggleFavorite.fee93857.js":25700===e?"web/chunks/narratives_boxes.81ea7c1d.js":74558===e?"web/chunks/NarrativesListModelOpenService.a7395a02.js":53630===e?"web/chunks/VideoChat.8433d455.js":9994===e?"web/chunks/HTMLToImage.b391ad22.js":59039===e?"web/chunks/audio_mobile_globalPlayerImpl.ea25d16d.js":71393===e?"web/chunks/stories-creator-ord-app.9ed53b0e.js":74074===e?"web/chunks/SuggestionsOverlayRender.2ac026d3.js":7997===e?"web/chunks/helpHintsService.c9fe74f1.js":75477===e?"chunks/"+e+".3879d2ca.js":30420===e?"chunks/"+e+".4dc53689.js":{17356:"web/chunks/videoplayer-interactive",63616:"web/chunks/draggable"}[e]+"."+{17356:"c4daf512",63616:"7f6fddff"}[e]+".js",__webpack_require__.miniCssF=e=>({6827:1,18586:1,98271:1,33641:1}[e]?"web/chunks/8d78121f.css":30685===e?"web/chunks/d5a750da.css":{84835:1,22698:1}[e]?"web/chunks/49041bdf.css":51943===e?"web/chunks/3fb10e4d.css":63836===e?"web/chunks/278871e1.css":96649===e?"web/chunks/898b8b02.css":73035===e?"web/chunks/bdef1552.css":30072===e?"web/chunks/ecf4ba8e.css":1715===e?"web/chunks/af9fae26.css":36502===e?"web/chunks/8a613c7b.css":99370===e?"web/chunks/b39ce11d.css":95805===e?"web/chunks/454f4a27.css":73509===e?"web/chunks/823f521d.css":{91906:1,74205:1}[e]?"web/chunks/86351b6a.css":36637===e?"web/chunks/278711c3.css":75090===e?"web/chunks/66cefbe1.css":18493===e?"web/chunks/ca77e6f3.css":6694===e?"web/chunks/d2f54dd7.css":59933===e?"web/chunks/cdf8b535.css":66434===e?"web/chunks/2f796142.css":99595===e?"web/chunks/8fca9d14.css":73214===e?"web/chunks/06964372.css":99056===e?"web/chunks/27c6e5e3.css":23666===e?"web/chunks/83a662dc.css":52731===e?"web/chunks/c431e81d.css":16846===e?"web/chunks/246c268d.css":64273===e?"web/chunks/46f2caa3.css":12318===e?"web/chunks/6619d22c.css":71409===e?"web/chunks/ac285b60.css":50756===e?"web/chunks/b1e34a2b.css":88386===e?"web/chunks/b2678bd8.css":{29311:1,56091:1}[e]?"web/chunks/8137de07.css":7894===e?"web/chunks/599c788a.css":40953===e?"web/chunks/b7dcce66.css":60274===e?"web/chunks/d54192df.css":5333===e?"web/chunks/d05ec3bc.css":16673===e?"web/chunks/e971e396.css":28352===e?"web/chunks/chunks/e9d4d821.css":34767===e?"web/chunks/df9c4dfd.css":76376===e?"web/chunks/fb435e99.css":60191===e?"web/chunks/6800a6c0.css":32643===e?"web/chunks/932d514a.css":38308===e?"web/chunks/383d7a32.css":50915===e?"web/chunks/f28493f1.css":64497===e?"web/chunks/86fb7a7f.css":{74998:1,87807:1}[e]?"web/chunks/6ed22658.css":90513===e?"web/chunks/2eb9cd75.css":6885===e?"web/chunks/8f058b71.css":53630===e?"web/chunks/923fc565.css":71393===e?"web/chunks/5ce92a9a.css":74074===e?"web/chunks/6f8b8086.css":void 0),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},__webpack_require__.l=(e,t,s,i)=>{if(n[e])n[e].push(t);else{var a,c;if(void 0!==s)for(var o=document.getElementsByTagName("script"),r=0;r<o.length;r++){var d=o[r];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack","vk:"+s),a.src=e),n[e]=[t];var u=(t,s)=>{a.onerror=a.onload=null,clearTimeout(l);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(s))),t)return t(s)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),c&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dist/",i=__webpack_require__.u,a=__webpack_require__.e,c={},o={},__webpack_require__.u=function(e){return i(e)+(c.hasOwnProperty(e)?"?"+c[e]:"")},__webpack_require__.e=function(e){return a(e).catch((function(t){var s=o.hasOwnProperty(e)?o[e]:3;if(s<1){var n=i(e);throw t.message="Loading chunk "+e+" failed after 3 retries.\n("+n+")",t.request=n,t}return new Promise((function(t){var n,i=3-s+1;setTimeout((function(){var n="cache-bust=true&retry-attempt="+i;c[e]=n,o[e]=s-1,t(__webpack_require__.e(e))}),(n=i,1e3*Math.pow(3,n)))}))}))},(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,s)=>{var n=__webpack_require__.miniCssF(e),i=__webpack_require__.p+n;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=(c=s[n]).getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(i===e||i===t))return c}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var c;if((i=(c=a[n]).getAttribute("data-href"))===e||i===t)return c}})(n,i))return t();((e,t,s,n,i)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",__webpack_require__.nc&&(a.nonce=__webpack_require__.nc),a.onerror=a.onload=s=>{if(a.onerror=a.onload=null,"load"===s.type)n();else{var c=s&&s.type,o=s&&s.target&&s.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+c+": "+o+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=c,r.request=o,a.parentNode&&a.parentNode.removeChild(a),i(r)}},a.href=t,s?s.parentNode.insertBefore(a,s.nextSibling):document.head.appendChild(a)})(e,i,null,t,s)})),t={14119:0};__webpack_require__.f.miniCss=(s,n)=>{t[s]?n.push(t[s]):0!==t[s]&&{1715:1,5333:1,6694:1,6827:1,6885:1,7894:1,12318:1,16673:1,16846:1,18493:1,18586:1,22698:1,23666:1,28352:1,29311:1,30072:1,30685:1,32643:1,33641:1,34767:1,36502:1,36637:1,38308:1,40953:1,50756:1,50915:1,51943:1,52731:1,53630:1,56091:1,59933:1,60191:1,60274:1,63836:1,64273:1,64497:1,66434:1,71393:1,71409:1,73035:1,73214:1,73509:1,74074:1,74205:1,74998:1,75090:1,76376:1,84835:1,87807:1,88386:1,90513:1,91906:1,95805:1,96649:1,98271:1,99056:1,99370:1,99595:1}[s]&&n.push(t[s]=e(s).then((()=>{t[s]=0}),(e=>{throw delete t[s],e})))}}})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={14119:0};__webpack_require__.f.j=(t,s)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else if(/^(1(2(318|334|477)|3(542|625|901)|5(062|402|718)|6(184|673|846)|7(15|356|895)|0085|0774|1635|4119|4801|8493|8586|9072)|2(1(358|426|472|529|63|66)|2(698|801|834)|3(227|592|666)|5(126|153|700|817)|6(033|731|907)|8(131|365|458)|0089|0781|4639|4794|9311)|3(0([13]59|072|643|685)|1(095|779|84)|36[45]1|4(190|517|767)|6(182|502|637)|2466|2643|5546|5755|705|7164|8308|841|9660)|4(3(106|162|451|925)|(022|42|75)2|(225|713|88)5|0953|2920|4373|6084|871)|5(0(453|560|756|905|915)|2(007|060|262|318|714|731)|3(297|33|630|927)|6(09[19]|560|965)|(149|479|824)0|(194|483|538|993)3|7859|9039)|6(0(03|127|191|274|585|778)|1(037|14|332|541|899)|3(301|616|836)|5(31|673|852)|8(254|27|425|64|85)|92(40|52)|2229|4273|4497|6434|694|7765)|7(1(011|393|409)|3(035|214|23|520|538|810)|4(074|205|336|558)|6(2|376|573|660)|9(144|210|97)|0466|2955|5090|5908|7474|894)|8(0(111|364|496)|1(399|505|652|690)|4(039|287|835)|7(752|807|921)|8(345|386|588|651|70)|9(519|631|887)|2365|2438|5172|559|6127|649)|9(0(028|513|874)|1(498|696|906)|41(51|60)|58[08]5|6(239|35|374|649)|9(056|370|595|907|94)|2977|3305|7126|8271|8576))$/.test(t)){var i=new Promise(((s,i)=>n=e[t]=[s,i]));s.push(n[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),c=new Error;__webpack_require__.l(a,(s=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,s)=>{var n,i,[a,c,o]=s,r=0;if(a.some((t=>0!==e[t]))){for(n in c)__webpack_require__.o(c,n)&&(__webpack_require__.m[n]=c[n]);if(o)var d=o(__webpack_require__)}for(t&&t(s);r<a.length;r++)i=a[r],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(d)},s=self.webpackChunkvkweb=self.webpackChunkvkweb||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{var e={},t={podcasts_web:"a2703f6ea9f67727",bookmarkClipPost:"f980fda40f715b2d",WebDI:"061fc26c216c7337",audio_config_legacy:"b7c2f8dcc21dcc4e",audio_config_overrides:"8403bfb5e0530bd9",audio_web_globalPlayerImpl:"f60581a0b0df2bf4",unauth_action_box:"6a9fef28a5f07542",showCaptchaPopup:"efc84820ed8bb89c",showCaptchaSDK:"722622a930e4653e",nav:"f832fd28aa79fc17",left_menu_store:"c9eed939813f6cda",menu_settings:"a8f4f383337e5768",ReportMiniApp:"ce8d98a76a2a3678",ReportsProfileModal:"23579a018d596229",ReportForm:"f3854745714580bd",SilentModeForms:"c62172e8ae356a01",VideoUpload:"1e14c53626b0fa52",MessengerClipsModal:"299318f667a81615",storyPublisher:"ed9421807a6b4284","gifts-open-gifts-catalog":"0e81b7cdae451ee5",wikiModalExampleInitiator:"be30e82edc1853fe",stories_web_lib:"aa0cbf3f80409049",show_audio_playlist:"d43416e3e424607e",show_attachment_audio_list:"9e7ca4ce71807e32",money_transfer_box:"ef69c4589df71bb0",money_transfer:"899fd68cc954af25","sticker-gift-modal-legacy":"a980835792b72277","gift-modal-legacy":"5746246ae20fed8b","feed-client-nav-skeleton":"56ba9b41383f23ed","feed-client-nav-async-right-block":"56ba9b41383f23ed",ecomm_market_product_attach:"24ca99faade155ee",audio_modals_MusicTrackList:"4f343df00c65f37a",AudioLongtapModal:"f39496e0a46ade04",z_nav:"f832fd28aa79fc17",im_chat_preview:"a4e7f074e711c095",NewStickerPicker:"6379dddc9a85b4fa",stories_viewer:"f47191e3c7a0a098",web_index:"59c268fb3966fa6f",VideoShareModal:"8db5fd5461910aa1",CreateVideoChannelModal:"ccf65520b8d2b8b3",ExitConfirmationModal:"c2688b11f2a075fe",VideoEditorModal:"fa1386d0a1195ea5",video_restore_button:"843076f1077dfcbc","stickers-layer-view":"0acaf520f1ad1f0c","stickers-layer-purchase-details-view":"3993231cc38c4b95","stickers-random-selector-view":"d5d14885ce1b5b8c","stickers-random-selector-packs-view":"8f317c4b34e8ed45","stickers-random-selector-result-view":"63bdc729bf5d740e",NewVideoEditModal:"aebca4e64640aae6",renderPlayerOverlay:"b921d4072253289c","framer-motion-entrypoint":"be30e82edc1853fe",story_blocks:"e42c61aaf4a96b92","StickersKit-UGCManagementRestrictedModal":"be30e82edc1853fe","StickersKit-AgeRestrictionModal":"be30e82edc1853fe","StickersKit-ChatRestrictionModal":"be30e82edc1853fe",narratives_boxes:"5b3eff0e8f3340cc",PodcastEpisodeModal:"109769f7f38a3747",interactive_video_onboarding:"b8e7b3942113c871",LiveInfo:"56ae7451c91c32f5",videoplayer_v2:"efdf9d6be41016b5",videoplayer_interactives:"77d2aff185cb7f03",videoplayer_v3:"cb291cb105f4c9b3",handleToggleFavorite:"81a2136719ecee3c",VideoChat:"9833fbe24fed0ccb","stories-creator-legacy-modal":"ac4de67cb3d7d8db",apps_attach_modal:"162717728e92bd32",AddClipToVideoModal:"c5f760b8814e4759",ClipPlayerModule:"be30e82edc1853fe",PublishClipToVideoModal:"fd7f38b760e09d53",sharedVideoUploadState:"747835ce8bd36cfc",VideoUploadModal:"3edabc92035763bf",VideoExternalUploadModal:"3edabc92035763bf",ClipUploadModal:"9257b2a36342c75c",video_upload_modal:"32d4d5dd99420fe7",AddClipToVideoBlock:"3db135e76479446f",OpenNewVideoEditorButton:"be085d5a9ba950ca","mvk-logout-modal":"ad34b5b5ba7dfd41","gifts-catalog-modal-legacy":"0e61158fd6d1ba52",SuggestionsOverlayRender:"827a84505d710168"};__webpack_require__.f.vkLangs=(s,n)=>{if("string"==typeof s&&s.startsWith("langs/web/")){var i=t[s.replace("langs/web/","")];if(i){var a=__webpack_require__.o(e,s)?e[s]:void 0;if(0!==a)if(a)n.push(a[2]);else{var c=new Promise(((t,n)=>a=e[s]=[t,n]));n.push(a[2]=c);var o="?v="+(window.vk&&window.vk.cfg?window.vk.cfg.langs_force_version:0)+"&p=web&l="+window.vk.lang||"",r=self.location.origin+/js/+s+"."+i+".js"+o,d=new Error;__webpack_require__.l(r,(t=>{if(__webpack_require__.o(e,s)&&(0!==(a=e[s])&&(e[s]=void 0),a)){a[0]();var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading lang "+s+" failed.\n("+n+": "+i+")",d.name="LangLoadError",d.type=n,d.request=i,setTimeout((()=>{throw d}),0)}}),"lang-"+s)}}}};var s=self.langChunkLoadingGlobal||(e=>self.addLangKeys(e[1]));self.langChunkLoadingGlobal=((t,s)=>{var[n]=s;t&&t(s),__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0}).bind(null,s)})(),self.__declaredGlobals||(self.__declaredGlobals=new Set),self.__usedGlobals||(self.__usedGlobals={buffered:new Set,bufferedErrors:new Set,add(e){this.buffered.add(e)},addError(e){this.bufferedErrors.add(e)},listen(e){(this.buffered.size||this.bufferedErrors.size)&&e(Array.from(this.bufferedErrors),Array.from(this.buffered));const t=this.add.bind(this),s=this.addError.bind(this);this.add=s=>{e([],[s]),t(s)},this.addError=t=>{e([t],[]),s(t)}}}),__webpack_require__._dG=function(e,t){if(self.partConfigEnabled&&self.partConfigEnabled("global_variable_wrapper")&&!self.__declaredGlobals.has(e)){self.__declaredGlobals.add(e);try{let s=t;Object.defineProperty(self,e,{enumerable:!0,configurable:!0,get:()=>(self.__usedGlobals.add(e),s),set(e){s=e}})}catch(s){self.__usedGlobals.addError(e),window[e]=t}}else window[e]=t;return t};var u=__webpack_require__.O(void 0,[91498,89631,50560,85172,762,21529,79210,23592,89887,61541],(()=>__webpack_require__(968398)));u=__webpack_require__.O(u)})();