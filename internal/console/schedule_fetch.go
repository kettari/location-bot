package console

import (
	"fmt"
	"github.com/kettari/location-bot/internal/bot"
	"github.com/kettari/location-bot/internal/config"
	"github.com/kettari/location-bot/internal/notifier"
	"github.com/kettari/location-bot/internal/parser"
	"github.com/kettari/location-bot/internal/scraper"
	"github.com/kettari/location-bot/internal/storage"
	"log/slog"
	"sync"
	"time"
)

const (
	rootURL      = "https://rolecon.ru"
	eventsURL    = "https://rolecon.ru/event/json-calendar?start=%s&end=%s"
	twoWeeks     = 24 * time.Hour * 14
	workersCount = 5
)

type ScheduleFetchCommand struct {
}

type Job struct {
	url string
}

type Result struct {
	url  string
	html string
	err  error
}

func NewScheduleFetchCommand() *ScheduleFetchCommand {
	cmd := ScheduleFetchCommand{}
	return &cmd
}

func (cmd *ScheduleFetchCommand) Name() string {
	return "schedule:fetch"
}

func (cmd *ScheduleFetchCommand) Description() string {
	return "fetches events from the Rolecon server and parses them to the database"
}

func (cmd *ScheduleFetchCommand) Run() error {
	slog.Info("fetching schedule")
	conf := config.GetConfig()

	// Get the root page
	slog.Debug("requesting page", "url", rootURL)
	page := scraper.NewPage(rootURL)
	if err := page.LoadHtml(); err != nil {
		return err
	}
	slog.Debug("initial page loaded", "size", len(page.Html), "cookies_count", len(page.Cookies))

	// Extract Csrf token and cookie
	csrf := scraper.NewCsrf(page)
	var err error
	if err = csrf.ExtractCsrfToken(); err != nil {
		return err
	}
	slog.Debug("found CSRF token", "token", csrf.Token)
	if err = csrf.ExtractCsrfCookie(); err != nil {
		return err
	}
	slog.Debug("found CSRF cookie", "cookie", csrf.Cookie)

	// Load events JSON
	url := fmt.Sprintf(eventsURL, time.Now().Format("2006-01-02"), time.Now().Add(twoWeeks).Format("2006-01-02"))
	slog.Debug("requesting events", "url", url)
	events := scraper.NewEvents(url, csrf)
	if err = events.LoadEvents(); err != nil {
		return err
	}
	slog.Debug("events page loaded", "size", len(events.JSON))
	slog.Debug("unmarshalling events")
	if err = events.UnmarshalEvents(); err != nil {
		return err
	}
	slog.Debug("events unmarshalled", "events_count", len(events.Events))

	// Load individual events pages
	slog.Debug("requesting events pages")
	var urls []string
	for _, event := range events.Events {
		urls = append(urls, rootURL+event.URL)
	}
	var pages []scraper.Page
	cmd.dispatcher(urls, workersCount, &pages)
	slog.Debug("collected events pages", "pages_count", len(pages))

	/*
		pages := []scraper.Page{
			{
				URL:  "https://rolecon.ru/lw19200425",
				Html: "\n<!DOCTYPE html>\n<html lang=\"ru-RU\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <meta name='yandex-verification' content='7d6296cf174808ec' />\n    <meta name=\"csrf-param\" content=\"_csrf\">\n<meta name=\"csrf-token\" content=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">\n    <title>Игры по выходным – Ролекон</title>\n    <meta name=\"title\" content=\"Игры по выходным\">\n<meta name=\"description\" content=\"Приглашаем вас провести выходные в нашем клубе! Поиграть в настольные ролевые игры может любой желающий (даже если вы раньше не пробовали).  Для ведущих вход бесплатный. Если вы в один и тот же день планируете и поиграть, и поводить, то играете вы тоже...\">\n<meta property=\"og:title\" content=\"Игры по выходным\">\n<meta property=\"og:description\" content=\"Приглашаем вас провести выходные в нашем клубе! Поиграть в настольные ролевые игры может любой желающий (даже если вы раньше не пробовали).  Для ведущих вход бесплатный. Если вы в один и тот же день планируете и поиграть, и поводить, то играете вы тоже...\">\n<meta property=\"og:type\" content=\"website\">\n<meta property=\"og:url\" content=\"https://rolecon.ru/lw19200425\">\n<meta property=\"og:image\" content=\"https://rolecon.ru/uploads/2025-04/AC9UWIoql7-1744110330.jpg\">\n<link href=\"https://rolecon.ru/lw19200425\" rel=\"canonical\">\n<link href=\"https://rolecon.ru/uploads/2025-04/AC9UWIoql7-1744110330.jpg\" rel=\"image_src\">\n<link href=\"/assets/162ef97e/easymde.min.css?v=1664297249\" rel=\"stylesheet\">\n<link href=\"/assets/3572ab83/flatpickr.min.css?v=1664297252\" rel=\"stylesheet\">\n<link href=\"/css/fonts.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/common.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/main.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/extra.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/assets/ba3eaa0b/themes/base/jquery-ui.min.css?v=1664297238\" rel=\"stylesheet\">\n<link href=\"/assets/a5200bd0/authchoice.css?v=1664297237\" rel=\"stylesheet\">\n<script src=\"//vk.com/js/api/share.js?92\" charset=\"utf8\"></script>\n<script src=\"//vk.com/js/api/openapi.js?116\"></script></head>\n<body>\n\n        <!-- Yandex.Metrika counter -->\n    <script>\n    (function (d, w, c) {\n        (w[c] = w[c] || []).push(function() {\n            try {\n                w.yaCounter32474625 = new Ya.Metrika({\n                    id:32474625,\n                    clickmap:true,\n                    trackLinks:true,\n                    accurateTrackBounce:true,\n                    webvisor:true,\n                    trackHash:true\n                });\n            } catch(e) { }\n        });\n\n        var n = d.getElementsByTagName(\"script\")[0],\n            s = d.createElement(\"script\"),\n            f = function () { n.parentNode.insertBefore(s, n); };\n            s.type = \"text/javascript\";\n            s.async = true;\n            s.src = \"https://mc.yandex.ru/metrika/watch.js\";\n\n        if (w.opera == \"[object Opera]\") {\n            d.addEventListener(\"DOMContentLoaded\", f, false);\n        } else { f(); }\n    })(document, window, \"yandex_metrika_callbacks\");\n    </script>\n    <noscript><div><img src=\"https://mc.yandex.ru/watch/32474625\" style=\"position:absolute; left:-9999px;\" alt=\"\" /></div></noscript>\n    <!-- /Yandex.Metrika counter -->\n    \n    <div class=\"header\">\n        <div class=\"auth-block\">\n            <div class=\"content\">\n                            <div class=\"authed\">\n                                                            <div class=\"authed-hover\">\n                        <div class=\"photo\"><img src=\"/images/no-photo_24x24.png\" alt=\"no avatar\"></div>\n                        <a href=\"/profile\">\n                            kettari                        </a>\n                        <img src='/images/select-arrow.png' alt=\"Меню пользователя\">\n                        <ul class=\"auth-menu\">\n                                                        <li><a href=\"/profile\">Профиль</a></li>\n                            <li><a href=\"/user/update\">Редактировать</a></li>\n                            <li><a href=\"/chat/index\">Чаты</a>\n                            <li><a href=\"/user/logout\" data-method=\"post\">Выйти</a></li>\n                        </ul>\n                    </div>\n                </div>\n                        </div>\n        </div>\n\n        <div class=\"menu\" id=\"menu\">\n            <div class=\"content\">\n                <a href=\"/\" class=\"logo\"><img src=\"/images/LOGO_HEADER.png\" alt=\"Rolecon\"></a>\n                <a id=\"collapse-menu\" href=\"#menu\"></a>\n                <nav>\n                    <a href=\"/event/view-free\">Календарь</a>                    <a href=\"/event\">События</a>                    <!-- <li><a href=\"/blog\">Блог</a></li> -->\n                    <a href=\"/gamesearch\">Поиск игр</a>                    <a href=\"/about-rolecon\">Что такое ролекон</a>                    <!-- <li><a href=\"/site/leading\">Ведущему</a></li> -->\n                    <a href=\"/league\">Ведущая лига</a>                    <a href=\"/partners\">Наши партнёры</a>                    <a id=\"exit-menu\" href=\"#\">X</a>\n                </nav>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"wrapper\">\n    <div class=\"page-padding\"></div>\n\n        <div class=\"event second\">\n        <div class=\"img\">\n            <img src=\"/uploads/2025-04/AC9UWIoql7-1744110330.jpg\" alt=\"Игры по выходным\">\n            <div class=\"time\">19 апреля 2025</div>\n        </div>\n        <div class=\"info\">\n            <div class=\"block-icon-text\">\n                <div class=\"icon\"><img src=\"/images/rolecon-logo.png\" alt=\"Игры по выходным\"></div>\n                <h4>Игры по выходным</h4>\n            </div>\n            <div class=\"text\"><span>Возраст: </span>12+</div>\n            <div class=\"text\"><span>Цена: </span>750 рублей</div>\n            <div class=\"text\"><span>Тип: </span>игротека</div>\n            <div class=\"text\"><span>Расположение: </span>Колпачный переулок, дом 6, стр. 4.</div>\n        </div>\n        <div class=\"about\">\n            <p>\n                Время: 10:30 — 21:00<br>Суббота (11:00-15:00): 11:00 — 15:00<br>Суббота (16:00-20:00): 16:00 — 20:00<br>Суббота (11:00-20:00): 11:00 — 20:00            </p>\n\n            <a class=\"button blue\" href=\"/event/game-request?eventId=560\" data-window=\"request-game\">Заявить свою игру</a>            <div class=\"event-share-buttons\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content event-inner\">\n        <div class=\"event-description\">\n            <p>Приглашаем вас провести выходные в нашем клубе! Здесь проходит много настольных ролевых игр, записаться на которые может любой желающий. Если вы не знаете правил не беда, вам всё подскажут и объяснят.<br />\nДля ведущих вход бесплатный. Если вы в один и тот же день планируете и поиграть, и поводить, то играете вы тоже бесплатно!</p>\n\n<p>Стоимость участия: 750 рублей, вне зависимости от количества сыгранных за день приключений!<br />\n<br />\n<br />\nИгры утром: 11:00 - 15:00<br />\nИгры днём: 16:00 - 20:00<br />\nИгры на весь день: 11:00 - 20:00</p>\n\n<p>Присылайте заявки на игры, выбирайте то, что вам по душе и присоединяйтесь к нашей весёлой компании.</p>\n\n<p>У нас проходят игры по самым разным системам правил и сеттингам &mdash; от популярных во всём мире, по которым не только играют, но и снимают фильмы и пишут книги (Dungeons&amp;Dragons, Pathfinder, Starfinder, Fate, WARHAMMER 40000, Savage Worlds и другие), до авторских и созданных небольшими инди-студиями.</p>\n\n<p>Если вы ищете себе игровую компанию, хотите больше узнать о настольных ролевых играх или просто интересуетесь&nbsp;новыми способами интересно проводить время, то вы точно найдёте у нас несколько интересных вариантов!</p>\n\n<p>Вы можете выбрать игру, проходящую в наиболее удобное время (в первой, или второй половине дня) или записаться на игру, которая рассчитана на целый день.<br />\nДля гостей у нас всегда есть чай, кофе и печеньки.&nbsp;</p>        </div>\n\n        <div class=\"js-game-wrapper\">\n            <div class=\"event-day\">\n    <div class=\"caption\">Суббота — 19.04.2025</div>\n    <div class=\"tabs-caption\">\n                <div class=\"tab-caption active\" data-timeslot=\"3247\" data-section=\"1155\" style=\"width: 33.33%\">Суббота (11:00-15:00) (1)</div>\n                <div class=\"tab-caption \" data-timeslot=\"3248\" data-section=\"1155\" style=\"width: 33.33%\">Суббота (16:00-20:00) (6)</div>\n                <div class=\"tab-caption \" data-timeslot=\"3249\" data-section=\"1155\" style=\"width: 33.33%\">Суббота (11:00-20:00) (0)</div>\n            </div>\n    <div class=\"tabs-result\">\n                <div class=\"tab-result active\"\n             style=\"display: block;\"             data-timeslot=\"3247\"\n             data-section=\"1155\">\n                                    \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17440\"\n     data-timeslot=\"3247\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17440\" class='js-game-title'>\n[PF2] Extinction Curse - The Apocalypse Prophet<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Golarion</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Pathfinder 2</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Фэнтези</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/26881\">010011001011101</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>После выполнения 11 из 12 испытаний Ародэна герои по-настоящему чувствуют себя как дома в этой полной чудес долине! Их уже узнают местные, они обзаводятся недвижимостью и устанавливают свои правила. Если бы хозяин был дома – они уже пили бы чай с Последним Азлантом. </p>\n<p>Но… Всей этой идиллии мешает некая ящерица, которая засела в Зеленой Башне и творит страшный ритуал. Героям придется навестить саму обитель пропавшего бога и остановить Сарела Вечно Жаждущего. Ну и еще перезапустить систему жизнеобеспечения всего Кортиса.  Пфф. Плевое дело.</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17440\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Игра 71я. 5+1.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/PJOKiBq6Bz-1744482781.png\" alt=\"[PF2] Extinction Curse - The Apocalypse Prophet\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17440\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                    </div>\n                <div class=\"tab-result \"\n                          data-timeslot=\"3248\"\n             data-section=\"1155\">\n                                    \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17438\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17438\" class='js-game-title'>\n[Клинки во Тьме] Шесть и один<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>_Стимпанк</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Blades in the Dark</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключения</td>\n            </tr>\n                        <tr>\n                <td>Программа:</td>\n                <td>Подойдет как для опытных, так и для начинающих игроков</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/20785\">sheezgara</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 0 мест из 4</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Игра в стиле фильмов &quot;Карты, деньги, два ствола&quot;, &quot; Snatch&quot;, &quot;Джентльмены&quot; и книг Джо Аберкромби.\nНовички приветствуются, знание системы и сеттинга необязательно. Будут прегены.</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17438\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Вы давно знаете друг друга и давно знаете, что чтобы выжить в Даскволе лучше держаться вместе. Вовремя подставленная подножка, когда уносишь ноги от Синих Мундиров, еще один нож в стычке, дополнительная пара глаз на стреме никогда не будут лишними.\nКак и деньги. К счастью, в Даскволе можно найти все (чаще всего проблемы), только нужно знать где искать.</p>\n<p>В этот раз заказчица нашла вас сама. Дело звучит несложно, даже убивать никого не надо, есть только пара деталей...</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/geuP8CjJUZ-1744558793.jpeg\" alt=\"[Клинки во Тьме] Шесть и один\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/4908\">comcon</a></li>\n                                                        <li><a href=\"/user/23827\">Arkentlar</a></li>\n                                                        <li><a href=\"/user/33061\">Yansk2009</a></li>\n                                                        <li><a href=\"/user/40015\">nedzumi</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17438\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17455\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17455\" class='js-game-title'>\n[Cyberpunk Red] Will be lost in time<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Cyberpunk Red</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Cyberpunk Red</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Детективный боевик</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/33785\">Count_Zer0</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17455\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Продолжение истории.</p>\n<p>5 + рассказчик.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/QoENbdlajT-1744640661.jpg\" alt=\"[Cyberpunk Red] Will be lost in time\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17455\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17443\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n            <a class=\"game-change\" href=\"/game/update/17443\">Редактировать заявку</a>    <h4 class=\"game-title\">\n<a href=\"/game/17443\" class='js-game-title'>\nCoS ч. XV. Рассерженные ведьмы<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Ravenloft</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2024</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключения\\\\фентези</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/25510\">kettari</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p><strong>Продолжение кампании «Проклятие Страда»: 4 игрока по предзаписи + ДМ</strong></p>\n<p>Если освободится место — открою запись.</p>\n<p>Контакт для связи <a href=\"https://t.me/kettari\">https://t.me/kettari</a></p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17443\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p><a href=\"https://rolecon.ru/game/17415\">Начало здесь</a>.</p>\n<p>Что может быть хуже ковена карг? Только рассерженные карги, у которых честным обманом украли их имена! Обычно это <em>карги</em> поступают таким образом и совершенно возмутительно, когда кто-то позволил себе так же поступить с ними.</p>\n<p>Время Стеллы Вахтер истекает и для её спасения Виктору обязательно нужен ключевой камень — у этого ковена, по словам пьянчуги Франца, он выглядел как чёрный витой кристалл оникса.</p>\n<p>Кто или что помешало душе Стеллы вернуться с Эфирного Плана, когда сорвался эксперимент Виктора по телепортации из Баровии?</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/H0ObGNkl3x-1744533491.png\" alt=\"CoS ч. XV. Рассерженные ведьмы\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17443\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17439\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17439\" class='js-game-title'>\n[PF1] 5-12 Судьба песков. Часть 1: Горькая сделка<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Golarion</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Pathfinder 1</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключенческое фэнтези</td>\n            </tr>\n                        <tr>\n                <td>Программа:</td>\n                <td>Подойдет как для опытных, так и для начинающих игроков</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/10443\">Vetral</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Мастер+6 игроков</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17439\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Аменофей узнал, что наследие Драгоценных Мудрецов находится недалеко от торгового города Осириона Это, и Общество Следопытов пообещало свою поддержку в расследовании Сапфирового Мудреца его древнего ордена; однако зацепка оборвалась. Однако, знакомый информационный брокер  связался с Аменофеем, предложив обмен услугами. Чтобы помочь союзнику и раскрыть секреты прошлого Осириона, Общество должно снова разобраться со смертельным антагонистом, отправив агентов выполнить сделку и получить причитающееся. Единственный вопрос в том, какую цену потребует их враг.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/5oSajukti6-1744480621.jpg\" alt=\"[PF1] 5-12 Судьба песков. Часть 1: Горькая сделка\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17439\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17427\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17427\" class='js-game-title'>\nДолина ледяного ветра. Мифалар Итрин<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Forgotten Realms</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2014</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключенческое фэнтези</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/30520\">Сергей Широков</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>партия из 6 игроков + мастер</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17427\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>продолжение  кампании</p></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17427\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17423\"\n     data-timeslot=\"3248\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17423\" class='js-game-title'>\n[D&D5e] Igelon Heist, сессия 15<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Авторский</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2014</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключенческое фэнтези</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/32884\">Sincerely_Marg</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>ДМ + 5 игроков</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17423\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Небольшая заминка в планах оказалась как нельзя кстати - самое время, чтобы пройтись по Мокрому рынка.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/ENuGCCVRy1-1744124812.jpg\" alt=\"[D&D5e] Igelon Heist, сессия 15\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17423\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                    </div>\n                <div class=\"tab-result \"\n                          data-timeslot=\"3249\"\n             data-section=\"1155\">\n                                </div>\n            </div>\n</div>\n<a href=\"/location\" class=\"cyclicbanner\" style=\"background: url(/images/bennaerloc-01.png); width: 1216px; height: 206px;\">\n<span class=\"active\">Играйте в удобное время</span>\n<span>Специальные цены для ролевиков</span>\n<span>Простой поиск игроков и мастера</span>\n<span>В центре Москвы, недалеко от метро</span>\n<span>Большой выбор систем и сеттингов</span>\n<span>Локация — клуб от оргов Ролекона</span>\n</a>\n<div class=\"event-day\">\n    <div class=\"caption\">Воскресенье — 20.04.2025</div>\n    <div class=\"tabs-caption\">\n                <div class=\"tab-caption active\" data-timeslot=\"3250\" data-section=\"1156\" style=\"width: 33.33%\">Воскресенье (11:00-15:00) (4)</div>\n                <div class=\"tab-caption \" data-timeslot=\"3251\" data-section=\"1156\" style=\"width: 33.33%\">Воскресенье (16:00-20:00) (5)</div>\n                <div class=\"tab-caption \" data-timeslot=\"3252\" data-section=\"1156\" style=\"width: 33.33%\">Воскресенье (11:00-20:00) (0)</div>\n            </div>\n    <div class=\"tabs-result\">\n                <div class=\"tab-result active\"\n             style=\"display: block;\"             data-timeslot=\"3250\"\n             data-section=\"1156\">\n                                    \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17462\"\n     data-timeslot=\"3250\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17462\" class='js-game-title'>\nГоры земли и небес<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Golarion</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2024</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключения</td>\n            </tr>\n                        <tr>\n                <td>Программа:</td>\n                <td>Dungeons & Dragons</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/34538\">Miadal</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 2 мест из 4</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Мастер + 2 игрока по предзаписи + заявки</p>\n<p>Приключение для персонажей четвертого уровня.</p>\n<p>Персонаж должен быть создан по правилам D&amp;D Free Rules или D&amp;D 2024. Если вам нужен преген (готовый персонаж), напишите мне перед игрой.</p>\n<p>Если вам требуется выбрать божество для персонажа, обратите внимание, что сеттинг — Голарион. Вы по-прежнему можете взять божество забытых королевств, но тогда персонаж станет представителем религиозного меньшинства.</p>\n<p>Контакт для связи с мастером tg: @kerinskei</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17462\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>В далеком Тянь-Ша на острове Кайаджима торговцы из Авессалома собираются основать перевалочный пункт и торговое представительство. Идеальное место, защищенное со всех сторон водой и расположившееся в точки переплетения лей-линий, но есть один нюанс. Местные животные и духи не слишком рады пришельцам. Вас наняли, для того, чтобы вы разобрались с ними. Любым способом.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/UAgOozKxJ8-1744713889.jpg\" alt=\"Горы земли и небес\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/33422\">Grisha_Tremasov</a></li>\n                                                        <li><a href=\"/user/40009\">Vasian</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17462\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17444\"\n     data-timeslot=\"3250\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17444\" class='js-game-title'>\nОбесхвостить змею!<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Средиземье</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>The One Ring RPG</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Выживание</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/559\">Евгений Литвин</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 2 мест из 6</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Используются правила второй редакции The One Ring RPG (2022). Знание системы не требуется — правила объясним на месте.</p>\n<p>Знания сеттинга будет достаточно по экранизациям и мультфильму 1977 года.</p>\n<p>На выбор будут прегены: ривендельский эльф-звездочёт, эльф-следопыт из Линдона, защитник слабых из Бри, хоббит-охотник за сокровищами и гном-торговый агент из Эребора. Все персонажи путешествуют друг с другом уже 3 года.</p>\n<p>Вконтакт для связи: id2127589.</p>\n<p>16+</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17444\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>За три года своего бесконтрольного присутствия в верховьях Грейфлуда, орки начали представлять серьезную угрозу владениям эльфов. Слуги зла отравляют воду, размывают русла рек, устраивая там болото, губят природу и вот в этом месяце они одержали решительную победу против разрозненных кланов северян. Этой войне нужен новый план, и для его составления ключевые персоны должны собраться в одном месте, как это было несколько лет назад. Гэндальф Серый просит сопроводить его в этом важном путешествии, путь недалекий, но опасный.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/yl1jTTEJqe-1744550658.png\" alt=\"Обесхвостить змею!\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/962\">Михаил Меркулов</a></li>\n                                                        <li><a href=\"/user/8715\">Ladymarion</a></li>\n                                                        <li><a href=\"/user/30050\">Felotus</a></li>\n                                                        <li><a href=\"/user/37211\">Alex97</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17444\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17445\"\n     data-timeslot=\"3250\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17445\" class='js-game-title'>\nВечная искра<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>_Фэнтези</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Everspark</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>героическое фэнтези</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/10298\">VL</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 1 мест из 4</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Игра состоится при наличии 2 игроков. Новички приветствуются!\nОграничение по возрасту: 18+</p>\n<p>Контакт для связи: <a href=\"https://vk.com/id12323808\">https://vk.com/id12323808</a></p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17445\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Everspark — это настольная ролевая игра, которая передает атмосферу героического фэнтези и оставляет все душные механики за бортом. Хотите поиграть за грозного варвара, мрачного некроманта или капибару-плута, не разбираясь при этом в десятках способностей, сотнях заклинаний и всяких непонятных аббривиатурах, типа ThAC0? Все что нужно для игры - двадцатигранный и шестигранный кубики, немного воображения и щепотка хорошего настроения . </p>\n<p>В начале игры мы создадим свой собственный мир, персонажей и квест. А что произойдет дальше ведомо только богам! Встретятся ли герои с драконом Трех Печалей? Будут пробираться через пещеры темных эльфов ради великой короны Слез? Полетят на воздушном дирижабле сквозь пространство первородного эфира, отбиваясь от стаи летучих акул? Кто знает...</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/PbbkSQwF3w-1744551095.jpg\" alt=\"Вечная искра\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/5542\">topfishtoon</a></li>\n                                                        <li><a href=\"/user/6511\">Kybatay</a></li>\n                                                        <li><a href=\"/user/36946\">cewa</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17445\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17458\"\n     data-timeslot=\"3250\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17458\" class='js-game-title'>\nЖелезная уния<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Мультивселенная D&D</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2024</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключения</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/212\">Denis Antonov</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Закрытая игра (5 и мастер).</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17458\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Поиски сокровищ приводят героев в один из самых надёжных банков галактики Грэйпспейс.</p>\n<p>Но надёжность его — палка о двух концах и сейчас она играет против них...</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/FAYGvsHsyW-1744646135.png\" alt=\"Железная уния\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17458\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                    </div>\n                <div class=\"tab-result \"\n                          data-timeslot=\"3251\"\n             data-section=\"1156\">\n                                    \n<div class=\"event-single\n            approved             can-join            \"\n     id=\"game17446\"\n     data-timeslot=\"3251\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<span class=\"free-slots\"><span>2</span>/4</span>\n<a href=\"/game/17446\" class='js-game-title'>\nПляжный эпизод в заполярье<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Авторский</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2014</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>героическое фэнтези, дэнжн-кроул</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/559\">Евгений Литвин</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 2 мест из 4</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Тег D&amp;D 2014 означает &quot;D&amp;D 5 редакции&quot;. Игра проходит по правилам дополнения Acquisitions Incorporated. Правила D&amp;D знать не обязательно, хоть и желательно, всё нужное объясним на месте. Сеттинг — high magic, low life, расскажу по ходу дела.</p>\n<p>Будут прегены на 6 уровень, охватывающие более-менее все корпоративные должности Если вы хотите сделать своего героя, то он обязательно должен составляться с добавлением должности в компании из Acquisitions Incorporated (стр 18) и пройти премодерацию. Дополнительно допускаются Ʒанатар, Таша, Эберрон. Кросспол допускается. Если вы непартийный игрок, проходите мимо.</p>\n<p>Вконтакт для связи: id2127589.</p>\n<p>16+</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17446\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Пока агенты корпорации находятся под влиянием чар мымры, это прекрасная возможность наведаться в подводное царство и поискать новые активы для филиала. Наверняка вокруг этого острова найдется не один десяток кораблей, затерянных во льдах или потопленных на различной глубине. Желательно отправиться в экспедицию до конца отчетного периода и, заодно, прибытия галеона с большой земли.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/LDeTXmO1bu-1744551472.png\" alt=\"Пляжный эпизод в заполярье\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/32943\">alajne</a></li>\n                                                        <li><a href=\"/user/37211\">Alex97</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                                <a class=\"button blue size260 center\" href=\"/event/participate?game=17446&action=in\">Записаться на игру</a>\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17446\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17441\"\n     data-timeslot=\"3251\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17441\" class='js-game-title'>\n[Savage Worlds] Скелет в шкафу.<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Хайборийская эра</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Savage Worlds (Дневник авантюриста)</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Мечи и колдовство</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/5119\">kirvid</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 0 мест из 5</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><ul>\n<li>возрастной рейтинг 16+</li>\n<li>игра состоится при наличии 2-х игроков\n<ul>\n<li>Для связи с ведущим — <a href=\"https://vk.com/id308302316\">https://vk.com/id308302316</a></li>\n<li>Знание правил не обязательно! Опыт в ролевых играх — тоже! Будут готовые персонажи на выбор.</li>\n</ul></li>\n</ul>\n<p>Девиз Savage Worlds — быстро! весело! брутально! Возьми немного фантазии, горсть кубиков и чуть-чуть расчета. Смешай , как следует потряси и бросай. Всё!\n<a href=\"https://rpgbook.ru/rules/savageworlds/swade\">Демо-версию Savage Worlds на русском можно глянуть тут</a></p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17441\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p><em>За тысячи лет до египетских пирамид на Земле правили великие короли и могучие маги…</em></p>\n<p>Городок Гренфорт в графстве Шамар на юге Аквилонии не имеет даже стен. Но именно тут вам надо дождаться некоего Ринальдо Фьези, забрать у него пару вьюков и доставить их Тарнтию.  Ничего сложного, но ожидание в этом захолустье грозит уморить вас скукой. </p>\n<p>Всех новостей — приезд нового графского судьи. Да вот ещё выло что-то прошлой ночью на улице. Хозяин корчмы уверяет, что это собака. Только что-то он бледный как с похмелья и зачем-то затеял заново  красить заднюю дверь. </p>\n<ul>\n<li><a href=\"http://conan.hyborianage.ru/index.php/%D0%A5%D0%B0%D0%B9%D0%B1%D0%BE%D1%80%D0%B8%D0%B9%D1%81%D0%BA%D0%B0%D1%8F_%D1%8D%D1%80%D0%B0\">Про мир можно почитать здесь</a></li>\n<li><a href=\"https://www.deviantart.com/sapiento/art/The-Hyborian-Age-524644374\">Карта — The Hyborian Age by Sapiento on DeviantArt</a></li>\n</ul></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/aHVwzw4VZ3-1744489036.jpg\" alt=\"[Savage Worlds] Скелет в шкафу.\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/5394\">Złoty_Rzepa</a></li>\n                                                        <li><a href=\"/user/5557\">lorn25</a></li>\n                                                        <li><a href=\"/user/29613\">FlyingLazania</a></li>\n                                                        <li><a href=\"/user/30050\">Felotus</a></li>\n                                                        <li><a href=\"/user/34719\">Миара</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17441\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17424\"\n     data-timeslot=\"3251\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17424\" class='js-game-title'>\nЦикадовые сны касаются неба. Прощайте облака.<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>_Постапокалипсис</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Cloud Empress</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Приключения</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/24001\">kauzt</a>                                    </td>\n            </tr>\n                                    <tr>\n                <td>Места:</td>\n                <td>Осталось 0 мест из 4</td>\n            </tr>\n                    </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Хотя система основана на Mothership (про космический ужас), здесь больше внимания уделено исследованию и (опасным) приключениям, а не хоррору. Истории и сеттинг вдохновлены Навсикаей из Долины ветров, но погибнуть всё ещё можно, конфликты сильно вызывают стресс, а шанс на успех мал. </p>\n<p>В начале сыграем спуск вниз на барже (вдохновленное Last Voyage of the Bean Barge), а потом перейдём к путешествию по миру (на сколько останется времени). </p>\n<p>Будут прегены на каждый из 4х классов, правила объясню</p>\n<p><a href=\"https://cloudempress.com/\">сайт системы</a>;\n<a href=\"https://t.me/kauzt\">мой тг</a></p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17424\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Имперские города в облаках — центры (имперской) культуры, торговли, а главное — пространство интриг лордлингов в центре которых вы неудачно оказались. За вами не собираются отправлять отряды наёмников, но на ближайшую баржу вниз лучше все таки успеть. К тому же там лето, сезон имаго (гигантских цикад), 29 экспедиция Небесного Императора пытается захватить контроль над Землями Внизу и найти Облачную Императрицу. Местным, скорее всего, будет не до вас и получится постранствовать, пока ваши лица, не сотрутся из памяти, как мел после дождя.</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/EtZDaPbjFC-1744124855.jpg\" alt=\"Цикадовые сны касаются неба. Прощайте облака.\"></div>\n                    </div>\n\n                <div class=\"event-single-gamers\">\n                        <div class=\"caption\">Список заявившихся игроков</div>\n            <ul>\n                                                        <li><a href=\"/user/29757\">dan-white-ox</a></li>\n                                                        <li><a href=\"/user/33013\">AlmightyJanitor</a></li>\n                                                        <li><a href=\"/user/33697\">Ktuj3</a></li>\n                                                        <li><a href=\"/user/34869\">EitheryUndt</a></li>\n                            </ul>\n                        <div class=\"buttons\">\n                            </div>\n        </div>\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17424\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17451\"\n     data-timeslot=\"3251\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17451\" class='js-game-title'>\n[Blades '68] Эра Консенсуса<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Duskwall</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>Blades in the Dark</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Криминальный боевик</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/32563\">RubyKorn</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>Мастер + 4 игрока по предзаписи.</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17451\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/IQbj--Zebb-1744644472.jpg\" alt=\"[Blades '68] Эра Консенсуса\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17451\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                        \n<div class=\"event-single\n            approved             cannot-join            \"\n     id=\"game17425\"\n     data-timeslot=\"3251\"\n     data-day=\"1\">\n    <h4 class=\"game-title\">\n<a href=\"/game/17425\" class='js-game-title'>\n[D&D2024] Гримуар Зелёной Ведьмы - сессия 5<span class='status'>\n</span>\n</a>\n</h4>\n        <div class=\"event-single-content\" >\n        <table class=\"table-single reverse\">\n            <tr>\n                <td>Сеттинг:</td>\n                <td>Авторский</td>\n            </tr>\n            <tr>\n                <td>Система:</td>\n                <td>D&D 2024</td>\n            </tr>\n            <tr>\n                <td>Жанр:</td>\n                <td>Детектив, фэнтези, приключение</td>\n            </tr>\n                                    <tr>\n                <td>Игру проводит:</td>\n                <td>\n                    <a href=\"/user/32884\">Sincerely_Marg</a>                                    </td>\n            </tr>\n                                </table>\n\n                <div class=\"event-single-about-inline\">\n                        <div class=\"game-description\"><p>ДМ + 5 игроков</p></div>\n                                    <div class=\"game-comment\">\n                <div class=\"icon icon-comment\"></div>\n                <a href=\"/game/17425\" class=\"comment\">Комментарии (0)</a>\n            </div>\n                    </div>\n        \n        <div class=\"event-single-about-block\">\n            <div class=\"caption\">Описание</div>\n            <div class=\"game-description\"><p>Кто мог знать, куда заведут наших героев поиски того, кто похищает книги?</p></div>\n                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/9aJViL6Nih-1744125648.jpg\" alt=\"[D&D2024] Гримуар Зелёной Ведьмы - сессия 5\"></div>\n                    </div>\n\n        \n                <div class=\"share-vk\">\n            <script type=\"text/javascript\">\n                <!--\n                    document.write(VK.Share.button({url: \"https://rolecon.ru/lw19200425/game17425\"}, {type: \"round\", text: \"Поделиться\"}));\n                -->\n            </script>\n        </div>\n        \n    </div>\n</div>\n                    </div>\n                <div class=\"tab-result \"\n                          data-timeslot=\"3252\"\n             data-section=\"1156\">\n                                </div>\n            </div>\n</div>\n        </div>\n\n    </div>\n\n    <div id=\"comment-container\">\n    <div class=\"white-block page-padding comments\">\n    <div class=\"content\">\n    \n        <div class=\"caption\">Комментарии(1):</div>\n        \n                    <form id=\"commentform\" class=\"add-comment\" action=\"/site/comment/560?type=event\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">            <span class=\"field-container field-comment-content required\">\n<label class=\"control-label\" for=\"comment-content\">Добавить комментарий</label>\n<textarea id=\"comment-content\" class=\"form-control\" name=\"Comment[content]\" rows=\"6\" aria-required=\"true\"></textarea>\n</span>            <button type=\"submit\" class=\"button blue\">Отправить</button>            </form>\n                            <form id=\"answerform\" class=\"add-comment need-answer\" action=\"/site/comment/560?type=event\" method=\"post\" style=\"display: none\">\n<input type=\"hidden\" name=\"_csrf\" value=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">                <span class=\"field-container field-comment-content required\">\n<label class=\"control-label\" for=\"comment-content\">Ответить</label>\n<textarea id=\"comment-content\" class=\"form-control\" name=\"Comment[content]\" rows=\"6\" aria-required=\"true\"></textarea>\n</span>                <span class=\"field-container field-comment-parent_id\">\n\n<input type=\"hidden\" id=\"comment-parent_id\" class=\"form-control\" name=\"Comment[parent_id]\">\n</span>                <button type=\"submit\" class=\"button blue\">Отправить</button>                </form>                    \n                \n        <ul class=\"comment-blocks\">\n                            <li class=\"comment-block\" data-id=\"5445\">\n    <div class=\"avatar\"><a href=\"/user/28611\"><img src=\"/images/avatar.png\" alt=\"griga26\"></a></div>\n    <div class=\"comment-block-inner\">\n        <div class=\"date\">14.04.2025 16:30</div>\n        <div class=\"name\"><a class=\"no-underline\" href=\"/user/28611\">griga26</a></div>\n        <div class=\"comment-text\">\n            <p>\n                он не пляжный, он про дайвинг!            </p>\n        </div>\n                <div class=\"answer block-icon-text\">\n            <div class=\"icon\"></div> <div class=\"text\">Ответить</div>\n        </div>\n            </div>\n    </li>                    </ul>\n\n        \n                \n    </div>\n</div>\n    </div>\n\n</div>\n\n<div class=\"modalwindow\" id=\"request-game\">\n    <div class=\"close\"></div>\n    <div class=\"window-inner\">\n        <div class=\"caption\">Заявка игры</div>\n        <form id=\"gameform\" action=\"/event/game-request?eventId=560\" method=\"post\" enctype=\"multipart/form-data\">\n<input type=\"hidden\" name=\"_csrf\" value=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">    <div class=\"error-summary\" style=\"display:none\"><p>Исправьте следующие ошибки:</p><ul></ul></div>    <span class=\"field-container field-game-title required\">\n<input type=\"text\" id=\"game-title\" class=\"form-control\" name=\"Game[title]\" placeholder=\"Название игры\" aria-required=\"true\"><div class=\"help-block\"></div>\n</span>    <div class=\"upload-elems\">\n        <div class=\"file_upload\"><button><img src=\"/images/load-img.png\" alt=\"upload\"></button><div></div><span class=\"field-container field-game-image_src\">\n<input type=\"hidden\" name=\"Game[image_src]\" value=\"\"><input type=\"file\" id=\"game-image_src\" name=\"Game[image_src]\"><div class=\"help-block\"></div>\n</span></div>\n    </div>\n    <div class=\"input-elems\">\n<script>\nwindow.block_type = 'fixed'\n</script>\n                    <span class=\"field-container field-game-timeslot_id\">\n<select id=\"game-timeslot_id\" class=\"selectmenu sel-timeslot\" name=\"Game[timeslot_id]\">\n<option value=\"\">Время проведения</option>\n<option value=\"3247\">Суббота (11:00-15:00), 19 апреля 2025</option>\n<option value=\"3250\">Воскресенье (11:00-15:00), 20 апреля 2025</option>\n<option value=\"3251\">Воскресенье (16:00-20:00), 20 апреля 2025</option>\n<option value=\"3252\">Воскресенье (11:00-20:00), 20 апреля 2025</option>\n</select><div class=\"help-block\"></div>\n</span>                <span class=\"field-container field-game-signup required\">\n<select id=\"game-signup\" class=\"selectmenu sel-gametype\" name=\"Game[signup]\" aria-required=\"true\">\n<option value=\"\">Формат игры</option>\n<option value=\"disabled\">Без записи</option>\n<option value=\"free\">По записи</option>\n</select><div class=\"help-block\"></div>\n</span>        <span class=\"field-container field-game-places\">\n<select id=\"game-places\" class=\"selectmenu sel-places\" name=\"Game[places]\" disabled>\n<option value=\"\">Число игроков</option>\n<option value=\"1\">1</option>\n<option value=\"2\">2</option>\n<option value=\"3\">3</option>\n<option value=\"4\">4</option>\n<option value=\"5\">5</option>\n<option value=\"6\">6</option>\n<option value=\"7\">7</option>\n<option value=\"8\">8</option>\n</select><div class=\"help-block\"></div>\n</span>    </div>\n    <div class=\"clearfix\"></div>\n    <div class=\"input-elems combobox-wr\">\n        <span class=\"field-container field-game-system_id\">\n<select id=\"game-system_id\" class=\"combobox\" name=\"Game[system_id]\" data-type=\"system\" data-placeholder=\"Система\" data-suggest-pending=\"1\">\n<option value=\"\">Система</option>\n<option value=\"1\">*W_Apocalypse World</option>\n<option value=\"2\">*W_Dungeon World</option>\n<option value=\"3\">*W_Grim World</option>\n<option value=\"4\">*W_hack</option>\n<option value=\"5\">*W_Грань вселенной. Фронтир</option>\n<option value=\"6\">*W_Саги об исландцах</option>\n<option value=\"7\">D&amp;D_3,5</option>\n<option value=\"8\">D&amp;D_4</option>\n<option value=\"9\">D&amp;D 2014</option>\n<option value=\"11\">FAE</option>\n<option value=\"12\">Fate Core</option>\n<option value=\"13\">GUMSHOE (СЫЩИК)</option>\n<option value=\"14\">GURPS_4th ed</option>\n<option value=\"15\">GURPS_5th ed</option>\n<option value=\"16\">GURPS_lite</option>\n<option value=\"17\">Marvel Heroic Roleplaying</option>\n<option value=\"18\">Mythender RPG</option>\n<option value=\"19\">Roll and Keep</option>\n<option value=\"20\">Savage Worlds (Дневник авантюриста)</option>\n<option value=\"21\">Shadowrun_5th ed</option>\n<option value=\"22\">Shadowrun_6th ed</option>\n<option value=\"23\">Storyteller System (oWOD)</option>\n<option value=\"24\">Storytelling System (nWOD)</option>\n<option value=\"25\">WH 40K_Black Crusade</option>\n<option value=\"26\">WH 40K_Dark Heresy</option>\n<option value=\"27\">WH 40K_Dark Heresy 2</option>\n<option value=\"28\">WH 40K_Deathwatch</option>\n<option value=\"29\">WH 40K_Rogue Trader</option>\n<option value=\"30\">L&#039;n&#039;D&#039;s Game (авторская)</option>\n<option value=\"31\">Масти (авторская)</option>\n<option value=\"226\">Shadowrun 5th ed</option>\n<option value=\"227\">Shadowrun 5-й редакции</option>\n<option value=\"233\">VTNL - via the new legends</option>\n<option value=\"234\">Don&#039;t Rest Your Head</option>\n<option value=\"244\">Pathfinder RPG</option>\n<option value=\"250\">Savage Worlds: Interface Zero 2.0</option>\n<option value=\"261\">Fragged Empire</option>\n<option value=\"264\">Dark Heresy 1ed.</option>\n<option value=\"267\">Storytelling System (WOD)</option>\n<option value=\"272\">Eclipse Phase</option>\n<option value=\"275\">*W_The Hood (&quot;На раёне&quot;)</option>\n<option value=\"278\">Demon: the Descent</option>\n<option value=\"283\">Das Schwarze Auge / Тёмное Око (5th edition)</option>\n<option value=\"284\">Fate Accelerated Edition</option>\n<option value=\"286\">Разные системы</option>\n<option value=\"290\">Авторская (на основе d20)</option>\n<option value=\"294\">Мир Советов (*W хак)</option>\n<option value=\"298\">OSR D&amp;D (Beyond The Wall)</option>\n<option value=\"301\">Tales of Blades and Heroes</option>\n<option value=\"304\">Авторская</option>\n<option value=\"308\">Star Wars Saga Edition</option>\n<option value=\"313\">НРИ &quot;Эйдос&quot;</option>\n<option value=\"316\">D20 Modern</option>\n<option value=\"317\">Муполис</option>\n<option value=\"318\">Lady Blackbird</option>\n<option value=\"322\">OSR D&amp;D</option>\n<option value=\"324\">Star Trek roleplaying game</option>\n<option value=\"327\">The Void</option>\n<option value=\"332\">Degenesis: Rebirth</option>\n<option value=\"335\">Iron Kingdoms Unleashed</option>\n<option value=\"339\">Legend of the Five Rings 4 ed.</option>\n<option value=\"350\">Call of Cthulhu 7th Edition</option>\n<option value=\"353\">Victorian Age Vampire</option>\n<option value=\"355\">*W_Грань Вселенной: Вторая Редакция</option>\n<option value=\"363\">Conan RPG</option>\n<option value=\"370\">Cypher System</option>\n<option value=\"375\">Dread RPG</option>\n<option value=\"376\">SR3</option>\n<option value=\"377\">Выход</option>\n<option value=\"380\">True20 (Blue Rose edition)</option>\n<option value=\"381\">Хак Грани Вселенной</option>\n<option value=\"384\">Cortex Plus</option>\n<option value=\"385\">Королевство Ничто</option>\n<option value=\"392\">Dread (модификация)</option>\n<option value=\"398\">The One Ring RPG</option>\n<option value=\"402\">Slay Engine</option>\n<option value=\"403\">Battletech Alpha Strike</option>\n<option value=\"405\">Project: Dark</option>\n<option value=\"408\">Тьма Ктулху</option>\n<option value=\"411\">The Whispering Vault</option>\n<option value=\"414\">CONTACT</option>\n<option value=\"416\">LotFP</option>\n<option value=\"417\">Runequest</option>\n<option value=\"420\">psi*run</option>\n<option value=\"422\">Amazons (Powered by the Apocalypse)</option>\n<option value=\"424\">Теперь я не забуду (A Penny for My Thoughts)</option>\n<option value=\"425\">WEG D6</option>\n<option value=\"433\">Cat: A Little Game about Little Heroes</option>\n<option value=\"436\">Zombie Apocalypse (Fantasy Flight Games)</option>\n<option value=\"443\">Mutants &amp; Masterminds, 3ed</option>\n<option value=\"447\">Cortex Prime</option>\n<option value=\"453\">Fireball</option>\n<option value=\"454\">*W_городские легенды</option>\n<option value=\"457\">Tales from the Loop</option>\n<option value=\"459\">Ten Candles</option>\n<option value=\"460\">Infected</option>\n<option value=\"464\">7th Sea 2ed</option>\n<option value=\"466\">Vampire: The Masquerade 5th Edition</option>\n<option value=\"468\">Dresden Files RPG</option>\n<option value=\"471\">Фиаско</option>\n<option value=\"472\">Dresden Files Accelerated</option>\n<option value=\"474\">Blades in the Dark</option>\n<option value=\"475\">Авторская система</option>\n<option value=\"477\">Starfinder RPG</option>\n<option value=\"483\">Chronicles of Darkness</option>\n<option value=\"485\">One Last Job</option>\n<option value=\"486\">Paranoia</option>\n<option value=\"489\">*W_Masks</option>\n<option value=\"490\">Fall of Magic</option>\n<option value=\"491\">Mouse Guard RPG</option>\n<option value=\"492\">Through the Breach</option>\n<option value=\"498\">1809</option>\n<option value=\"499\">HeXXen 1730</option>\n<option value=\"500\">Dust Devils Revenged</option>\n<option value=\"503\">*W_Град Иуды</option>\n<option value=\"507\">FFG: Force and destiny</option>\n<option value=\"509\">Эпоха Мутантов (The Mutant Epoch)</option>\n<option value=\"515\">Таротлирум</option>\n<option value=\"518\">ZWEIHÄNDER Grim &amp; Perilous RPG</option>\n<option value=\"525\">Microscope by Ben Robbins</option>\n<option value=\"526\">Remember Tomorrow</option>\n<option value=\"537\">Remember Edo</option>\n<option value=\"543\">-</option>\n<option value=\"544\">2d20</option>\n<option value=\"549\">CODA System</option>\n<option value=\"555\">Wield by John Wick</option>\n<option value=\"557\">Coriolis</option>\n<option value=\"561\">Ролевая поэма</option>\n<option value=\"563\">Эра Водолея (1 ред.)</option>\n<option value=\"564\">*W_Cartel</option>\n<option value=\"572\">Capharnaüm</option>\n<option value=\"575\">Stars Without Number</option>\n<option value=\"578\">Нудмер: город-ключ</option>\n<option value=\"582\">Pathfinder Playtest</option>\n<option value=\"583\">The Witcher TRPG</option>\n<option value=\"584\">Бомжи-убийцы</option>\n<option value=\"585\">Godbound</option>\n<option value=\"586\">Взвод (the Regiment)</option>\n<option value=\"589\">Еврогейм</option>\n<option value=\"591\">Мир перекрёстков</option>\n<option value=\"593\">Сказочные земли</option>\n<option value=\"596\">A Song of Ice and Fire Roleplaying</option>\n<option value=\"599\">Общество Исследователей</option>\n<option value=\"600\">Strike!</option>\n<option value=\"603\">Cthulhu Dark</option>\n<option value=\"604\">The Sprawl</option>\n<option value=\"606\">Genesys RPG</option>\n<option value=\"608\">Точка Отсчёта</option>\n<option value=\"611\">Cyberpunk 2020</option>\n<option value=\"613\">НРИ «Рейдеры Великих пустошей»</option>\n<option value=\"616\">Книга Пепла</option>\n<option value=\"619\">Fate Shot</option>\n<option value=\"623\">Dragon Age RPG</option>\n<option value=\"624\">ВАРВАРЫ!</option>\n<option value=\"627\">Кадат</option>\n<option value=\"629\">Quick Engine</option>\n<option value=\"633\">Swords &amp; Wizardry</option>\n<option value=\"634\">Creators Of Worlds</option>\n<option value=\"639\">Пост-постапокалипсис</option>\n<option value=\"644\">WFRP 4ed</option>\n<option value=\"645\">Искусство Волшебства</option>\n<option value=\"646\">Earthdawn</option>\n<option value=\"650\">Историческая Настольная Игра</option>\n<option value=\"652\">Powered by GURPS</option>\n<option value=\"660\">Timemaster</option>\n<option value=\"665\">Unhallowed Metropolis</option>\n<option value=\"667\">Ryuutama</option>\n<option value=\"669\">Freebooters on the Frontier</option>\n<option value=\"671\">Dungeon Crawl Classics</option>\n<option value=\"679\">Reach of Titan</option>\n<option value=\"681\">Обитатели холмов</option>\n<option value=\"682\">Пока мы здесь</option>\n<option value=\"684\">*W_Обитатели холмов</option>\n<option value=\"689\">Star Wars RPG Updated</option>\n<option value=\"690\">CthulhuTech</option>\n<option value=\"692\">Newtype</option>\n<option value=\"693\">AD&amp;D 2</option>\n<option value=\"695\">Lamentations of the Flame Princess</option>\n<option value=\"697\">Esper Genesis 5e</option>\n<option value=\"700\">Ethos Engine</option>\n<option value=\"702\">Labyrinth Lord</option>\n<option value=\"706\">The Mountain Witch</option>\n<option value=\"708\">The Lost 77 Worlds</option>\n<option value=\"712\">Knave</option>\n<option value=\"713\">Ужас Аркхэма (карточный)</option>\n<option value=\"715\">Mothership RPG</option>\n<option value=\"719\">Shadow of the Demon Lord</option>\n<option value=\"720\">KULT: Divinity Lost</option>\n<option value=\"723\">Monarchies of Mau</option>\n<option value=\"725\">Doctor Who Roleplaying Game</option>\n<option value=\"727\">Vampire: The Masquerade 20th Anniversary Edition</option>\n<option value=\"729\">Unknown Armies</option>\n<option value=\"732\">Седьмое Море</option>\n<option value=\"733\">7th Sea</option>\n<option value=\"735\">Troika!</option>\n<option value=\"736\">Carbon 2185</option>\n<option value=\"740\">The Black Hack</option>\n<option value=\"746\">Uncharted Worlds</option>\n<option value=\"748\">WH 40K_Only War</option>\n<option value=\"751\">Ironsworn</option>\n<option value=\"752\">Pokethulhu</option>\n<option value=\"756\">The Expanse Roleplaying Game</option>\n<option value=\"757\">Pathfinder 2</option>\n<option value=\"759\">Pathfinder 1</option>\n<option value=\"760\">Gamma World</option>\n<option value=\"763\">Legend of the Five Rings</option>\n<option value=\"764\">Girl by Moonlight</option>\n<option value=\"765\">Cyberpunk Red</option>\n<option value=\"772\">Delta Green</option>\n<option value=\"777\">*W_Bedlam Hall</option>\n<option value=\"784\">Внутренние Тени: Ролевая Игра</option>\n<option value=\"786\">*W_Horror movie world</option>\n<option value=\"787\">Band of Blades</option>\n<option value=\"790\">Blood Chrome Neon</option>\n<option value=\"792\">Into the Odd</option>\n<option value=\"795\">City of Mist</option>\n<option value=\"796\">Vampire: The Masquerade</option>\n<option value=\"799\">Finsterland W10 System</option>\n<option value=\"801\">Квадрига</option>\n<option value=\"802\">Agon</option>\n<option value=\"804\">The Nuadan Chronicles</option>\n<option value=\"811\">Monsterhearts</option>\n<option value=\"812\">Finsterland D10 System</option>\n<option value=\"813\">NoFate</option>\n<option value=\"814\">Lancer</option>\n<option value=\"818\">Savage Worlds Adventure Edition</option>\n<option value=\"819\">Corporation RPG</option>\n<option value=\"820\">Touhou RPG: Danmaku Hanamatsuri Kagura</option>\n<option value=\"822\">The Troubleshooters</option>\n<option value=\"823\">Dark Outpost</option>\n<option value=\"824\">Index Card RPG</option>\n<option value=\"825\">Mass Effect 5e</option>\n<option value=\"826\">Ризус</option>\n<option value=\"828\">Грань Вселенной: Андромеда</option>\n<option value=\"830\">Vampire the Dark Ages 20th Anniversary</option>\n<option value=\"835\">Altered Carbon</option>\n<option value=\"836\">Встретимся в Adu</option>\n<option value=\"837\">Symbaroum</option>\n<option value=\"839\">Random by day, super by night</option>\n<option value=\"840\">Фэншуй 2</option>\n<option value=\"843\">Warhammer Fantasy Roleplay 4e</option>\n<option value=\"845\">ALIEN RPG</option>\n<option value=\"847\">Fantasy AGE</option>\n<option value=\"848\">Golden Sky Stories</option>\n<option value=\"850\">Root: The Tabletop Roleplaying Game</option>\n<option value=\"857\">Fate Condensed</option>\n<option value=\"858\">Trophy Dark</option>\n<option value=\"859\">Maze Rats</option>\n<option value=\"862\">Fantasy! Old School Gaming</option>\n<option value=\"864\">Wrath and Glory</option>\n<option value=\"866\">Кибермагия</option>\n<option value=\"869\">Fortune System</option>\n<option value=\"870\">Mage Against The Machine</option>\n<option value=\"871\">ECH0</option>\n<option value=\"872\">Sleepaway</option>\n<option value=\"875\">HEIST</option>\n<option value=\"876\">Operation Penguin</option>\n<option value=\"877\">Quest</option>\n<option value=\"879\">Danger Days</option>\n<option value=\"881\">Mörk Borg</option>\n<option value=\"882\">UESRPG</option>\n<option value=\"884\">Неизвестные армии</option>\n<option value=\"889\">Best Left Buried</option>\n<option value=\"890\">Shadowrun Anarchy</option>\n<option value=\"891\">Mutant Year Zero</option>\n<option value=\"894\">Lex Arcana</option>\n<option value=\"895\">Burning Wheel</option>\n<option value=\"897\">PTU v1.05</option>\n<option value=\"901\">James Bond 007</option>\n<option value=\"903\">Spire</option>\n<option value=\"907\">Swords Under the Sun</option>\n<option value=\"909\">Star Wars FFG</option>\n<option value=\"911\">Magical Kitties Save the Day 2е</option>\n<option value=\"912\">Old-School Essentials</option>\n<option value=\"921\">Укрытое море</option>\n<option value=\"923\">Stickstation 13</option>\n<option value=\"925\">Wicked Ones</option>\n<option value=\"928\">Лавкрафт умер!</option>\n<option value=\"930\">Mausritter</option>\n<option value=\"932\">Black Void</option>\n<option value=\"934\">CBR+PNK</option>\n<option value=\"935\">The Dark Below</option>\n<option value=\"938\">Багровая Заря</option>\n<option value=\"941\">Зов Глубины</option>\n<option value=\"943\">Warhammer Age of Sigmar: Soulbound</option>\n<option value=\"945\">Masks: A New Generation</option>\n<option value=\"949\">Dune: Adventures in the Imperium</option>\n<option value=\"951\">The Quiet Year</option>\n<option value=\"958\">Time Unit Mechanic</option>\n<option value=\"959\">Blackbird Pie</option>\n<option value=\"960\">&quot;Словеска&quot;</option>\n<option value=\"962\">Whitehack</option>\n<option value=\"963\">Starforged</option>\n<option value=\"965\">Traveller</option>\n<option value=\"970\">Yippee Ki-Yay</option>\n<option value=\"971\">Catthulhu</option>\n<option value=\"972\">*W_Грань Вселенной: Третья редакция</option>\n<option value=\"974\">Demon: The Fallen</option>\n<option value=\"976\">Worlds Without Number</option>\n<option value=\"977\">Tiny d6</option>\n<option value=\"979\">Аррргхъ</option>\n<option value=\"981\">ONE D&amp;D Playtest</option>\n<option value=\"982\">Sword world</option>\n<option value=\"983\">Kamigakari</option>\n<option value=\"988\">Broken Compass</option>\n<option value=\"989\">Only War</option>\n<option value=\"991\">Monster of the Week</option>\n<option value=\"992\">Edge of the Blade</option>\n<option value=\"995\">13th Age</option>\n<option value=\"1005\">Юные Сыщики в поисках чудовищ</option>\n<option value=\"1009\">Blacksad</option>\n<option value=\"1010\">HEART: The City Beneath</option>\n<option value=\"1011\">Disco Elysium</option>\n<option value=\"1012\">Warhammer 40,000 Roleplay: Imperium Maledictum</option>\n<option value=\"1015\">The Unofficial Hollow knight RPG</option>\n<option value=\"1021\">The Cult: Divinity lost</option>\n<option value=\"1023\">Werewolf: The Apocalypse 5</option>\n<option value=\"1024\">Vaesen</option>\n<option value=\"1027\">Trophy Gold</option>\n<option value=\"1029\">*W_Libreté</option>\n<option value=\"1030\">Lasers&amp;Feelings</option>\n<option value=\"1033\">Медвежатник (Honey Heist)</option>\n<option value=\"1034\">EAT THE PATH</option>\n<option value=\"1036\">Brindlewood Bay</option>\n<option value=\"1038\">DCC RPG</option>\n<option value=\"1040\">Changeling: the Lost</option>\n<option value=\"1042\">Kids on Bikes RPG</option>\n<option value=\"1043\">Гарри Поттер</option>\n<option value=\"1044\">Приключения в Средиземье 5е</option>\n<option value=\"1045\">CORP BORG</option>\n<option value=\"1046\">Daggerheart</option>\n<option value=\"1048\">Hero Kids</option>\n<option value=\"1049\">ИгрушкN</option>\n<option value=\"1055\">Золото и прах</option>\n<option value=\"1056\">Пьяная фортуна</option>\n<option value=\"1057\">Chorogaiden</option>\n<option value=\"1059\">The Trains of the Glorious Republic  of the People</option>\n<option value=\"1060\">D&amp;D 2024</option>\n<option value=\"1061\">Shadowdark</option>\n<option value=\"1062\">Hunter: the Reckoning 5e</option>\n<option value=\"1069\">EZY-system</option>\n<option value=\"1071\">Ничья земля</option>\n<option value=\"1075\">Blood, Coin, and Steel</option>\n<option value=\"1076\">Orbital Blues</option>\n<option value=\"1077\">Orbital_Blues</option>\n<option value=\"1078\">Cloud Empress</option>\n<option value=\"1080\">Everspark</option>\n<option value=\"1081\">Scum and Villainy</option>\n<option value=\"-1\">Заявить свою</option>\n</select><div class=\"help-block\"></div>\n</span>        <span class=\"field-container field-game-setting_id\">\n<select id=\"game-setting_id\" class=\"combobox\" name=\"Game[setting_id]\" data-type=\"setting\" data-placeholder=\"Сеттинг\" data-suggest-pending=\"1\">\n<option value=\"\">Сеттинг</option>\n<option value=\"32\">_Вестерн</option>\n<option value=\"33\">_Викинги</option>\n<option value=\"34\">_Городское фентези</option>\n<option value=\"35\">_Историческое фентези</option>\n<option value=\"36\">_История</option>\n<option value=\"37\">_Комикс</option>\n<option value=\"38\">_Космическая опера</option>\n<option value=\"39\">_Лавкрафт</option>\n<option value=\"40\">_Мистика</option>\n<option value=\"42\">_Пальп</option>\n<option value=\"41\">_Научная фантастика</option>\n<option value=\"43\">_Пираты</option>\n<option value=\"44\">_Постапокалипсис</option>\n<option value=\"45\">_Славяне</option>\n<option value=\"46\">_Современность</option>\n<option value=\"47\">_Стимпанк</option>\n<option value=\"48\">_Фэнтези</option>\n<option value=\"49\">_Япония</option>\n<option value=\"50\">7th Sea</option>\n<option value=\"51\">Cyberpunk 2020</option>\n<option value=\"52\">Dark Sun</option>\n<option value=\"53\">Deadlands (Мёртвые земли)</option>\n<option value=\"54\">East Texas University</option>\n<option value=\"55\">Fallout</option>\n<option value=\"56\">Forgotten Realms</option>\n<option value=\"57\">Golarion</option>\n<option value=\"58\">Hellfrost</option>\n<option value=\"59\">Pax Psychosis</option>\n<option value=\"60\">Planescape</option>\n<option value=\"61\">Shadowrun</option>\n<option value=\"62\">TES Morrowind</option>\n<option value=\"63\">Warhammer 40K</option>\n<option value=\"64\">Warhammer Fantasy</option>\n<option value=\"65\">World of Darkness</option>\n<option value=\"66\">Аланетта</option>\n<option value=\"67\">Волчье Солнце</option>\n<option value=\"68\">Красная Земля</option>\n<option value=\"228\">Dreamscape carnival</option>\n<option value=\"232\">Креат (VTNL)</option>\n<option value=\"239\">см. описание</option>\n<option value=\"242\">Современный мир</option>\n<option value=\"247\">Авторский</option>\n<option value=\"249\">Deus Ex</option>\n<option value=\"251\">Америка середины прошлого века</option>\n<option value=\"254\">Ashen Stars</option>\n<option value=\"256\">Ведьмак</option>\n<option value=\"259\">Ззариар</option>\n<option value=\"260\">Fragged Empire</option>\n<option value=\"266\">WOD Vampire: the Requiem</option>\n<option value=\"270\">DC Comics universal</option>\n<option value=\"271\">Eclipse Phase</option>\n<option value=\"277\">Demon: the Descent (WoD)</option>\n<option value=\"282\">Aventurien (Авентурия)</option>\n<option value=\"287\">Changeling: the Dreaming</option>\n<option value=\"289\">Ascension: Chronicle of the Godslayer</option>\n<option value=\"299\">Mythic Norden</option>\n<option value=\"302\">Круг Земной</option>\n<option value=\"306\">Пустая Надежда</option>\n<option value=\"309\">Star Wars</option>\n<option value=\"311\">Werewolf: the Apocalypse</option>\n<option value=\"314\">Алая Буря</option>\n<option value=\"319\">Презренные Земли</option>\n<option value=\"320\">Vampire: the Masquerade</option>\n<option value=\"325\">Star Trek</option>\n<option value=\"328\">Солнечная система</option>\n<option value=\"331\">Degenesis</option>\n<option value=\"336\">Iron Kingdoms</option>\n<option value=\"338\">Generic Cyberpunk</option>\n<option value=\"341\">Рокуган</option>\n<option value=\"342\">Арабское фэнтези</option>\n<option value=\"343\">Werewolf: the Wild West</option>\n<option value=\"344\">ETU (Восточно-Техасский Унивеститет)</option>\n<option value=\"345\">Rippers Resurrected</option>\n<option value=\"347\">Ravenloft</option>\n<option value=\"349\">Ghostbusters («Охотники за привидениями»)</option>\n<option value=\"351\">Мифы Ктулху</option>\n<option value=\"356\">Gravity Falls</option>\n<option value=\"357\">Dishonored</option>\n<option value=\"359\">Ultima Forsan</option>\n<option value=\"361\">Wolfenstein</option>\n<option value=\"362\">Сказочная Русь</option>\n<option value=\"364\">Аквилония</option>\n<option value=\"365\">Эллада</option>\n<option value=\"368\">Hunter: the Vigil</option>\n<option value=\"369\">Ghoul: Fatal Addiction</option>\n<option value=\"371\">Numenera</option>\n<option value=\"372\">Hellfrost: Land of fire</option>\n<option value=\"374\">_Фольклор</option>\n<option value=\"378\">Blue Rose</option>\n<option value=\"383\">MLP: FiM</option>\n<option value=\"388\">Firefly</option>\n<option value=\"399\">Средиземье</option>\n<option value=\"400\">Victorian Age: Vampire</option>\n<option value=\"401\">Gammazoikum</option>\n<option value=\"404\">Clan Invasion Era</option>\n<option value=\"412\">Demon: The Fallen</option>\n<option value=\"418\">_На раёне</option>\n<option value=\"419\">Как приручить дракона</option>\n<option value=\"423\">Мифическая Греция</option>\n<option value=\"426\">Охотники за привидениями</option>\n<option value=\"427\">Mortal Kombat</option>\n<option value=\"428\">Mighty Morphin Power Rangers</option>\n<option value=\"430\">Equestria Girls</option>\n<option value=\"432\">Миракаст</option>\n<option value=\"434\">Cat: A Little Game about Little Heroes</option>\n<option value=\"437\">Zombie Apocalypse</option>\n<option value=\"439\">Biker Mice from Mars</option>\n<option value=\"440\">_Альтернативная история</option>\n<option value=\"442\">Slayers/Рубаки</option>\n<option value=\"444\">Overwatch</option>\n<option value=\"445\">Mass Effect</option>\n<option value=\"450\">The Secrets of Cats</option>\n<option value=\"452\">Грань Вселенной</option>\n<option value=\"455\">Points of Light (Revised)</option>\n<option value=\"462\">Overlord 2</option>\n<option value=\"473\">Duskwall</option>\n<option value=\"476\">Авторский сеттинг</option>\n<option value=\"479\">Starfinder</option>\n<option value=\"480\">Песнь Льда и Пламени</option>\n<option value=\"481\">По выбору</option>\n<option value=\"484\">Chronicles of Darkness</option>\n<option value=\"488\">Странствующие миры</option>\n<option value=\"495\">Malifaux</option>\n<option value=\"501\">80-е, которых не было</option>\n<option value=\"502\">Scion</option>\n<option value=\"508\">Darkest Dungeon</option>\n<option value=\"510\">Venture City</option>\n<option value=\"513\">Мир утекающей воды и времени</option>\n<option value=\"523\">Глухомань</option>\n<option value=\"528\">_Киберпанк</option>\n<option value=\"530\">Фронтир</option>\n<option value=\"533\">Greyhawk</option>\n<option value=\"534\">Фаэрун</option>\n<option value=\"535\">Pact Worlds</option>\n<option value=\"536\">Fallout: Equestria</option>\n<option value=\"541\">-</option>\n<option value=\"546\">Последний парсек</option>\n<option value=\"550\">Harry Potter</option>\n<option value=\"553\">Жемчужины китайской классики</option>\n<option value=\"558\">Кориолис. Третий Горизонт.</option>\n<option value=\"559\">Infinity</option>\n<option value=\"562\">Deadlands Noir</option>\n<option value=\"566\">The Vast</option>\n<option value=\"567\">Куацех&#039;дир</option>\n<option value=\"568\">Orpheus</option>\n<option value=\"569\">Near Space</option>\n<option value=\"570\">Nest</option>\n<option value=\"571\">A Spark in the Fate Core</option>\n<option value=\"573\">Jazirat</option>\n<option value=\"577\">The Elven Gift</option>\n<option value=\"579\">Нудмер</option>\n<option value=\"587\">Homestuck</option>\n<option value=\"588\">Постапокалипсис</option>\n<option value=\"594\">Сказочные земли</option>\n<option value=\"595\">Псевдо-Россия XVI века</option>\n<option value=\"597\">A Game of Thrones</option>\n<option value=\"598\">Beasts and Barbarians (Варвары и чудовища)</option>\n<option value=\"601\">Hellsing</option>\n<option value=\"609\">Кориолис: Третий Горизонт</option>\n<option value=\"614\">Рейдеры Великих пустошей</option>\n<option value=\"615\">Книга Пепла</option>\n<option value=\"618\">Подземелье</option>\n<option value=\"621\">JoJo’s Bizarre Adventure</option>\n<option value=\"625\">Побег из Неведомого Кадата</option>\n<option value=\"628\">Nordic noir ghost stories</option>\n<option value=\"631\">Enterial</option>\n<option value=\"637\">Araneaesuriit - Новые открытия</option>\n<option value=\"638\">Аркем</option>\n<option value=\"643\">Зов Аркхэма</option>\n<option value=\"647\">Barsaive</option>\n<option value=\"649\">Завтра война</option>\n<option value=\"653\">Hellboy</option>\n<option value=\"657\">Плоский Мир</option>\n<option value=\"662\">Оккультная Москва</option>\n<option value=\"663\">Ferelden</option>\n<option value=\"666\">Unhallowed Metropolis</option>\n<option value=\"670\">Блюз города мутантов</option>\n<option value=\"673\">Оккультная Россия</option>\n<option value=\"676\">Nam &#039;68</option>\n<option value=\"677\">Dragonlance</option>\n<option value=\"688\">Ретрофутуризм</option>\n<option value=\"691\">ChtulhuTech</option>\n<option value=\"696\">Silrayne Arc</option>\n<option value=\"701\">Belly of the Beast</option>\n<option value=\"703\">фентези</option>\n<option value=\"705\">Forbidden Lands</option>\n<option value=\"709\">Egyptian Resort on the Moon</option>\n<option value=\"710\">Мышиные Территории</option>\n<option value=\"711\">Stranger things</option>\n<option value=\"717\">Capharnaüm</option>\n<option value=\"721\">Россия 90х</option>\n<option value=\"722\">Monarchies of Mau</option>\n<option value=\"724\">Retroverse: Lases &amp; Liches</option>\n<option value=\"726\">Doctor Who</option>\n<option value=\"728\">Unknown Armies</option>\n<option value=\"734\">Приключения</option>\n<option value=\"737\">Generic fantasy</option>\n<option value=\"738\">Carbon 2185</option>\n<option value=\"741\">Urth</option>\n<option value=\"742\">Стальной Алхимик</option>\n<option value=\"743\">Стальная Тревога</option>\n<option value=\"744\">Стальной Рассвет</option>\n<option value=\"745\">Красная земля: судьба революции</option>\n<option value=\"747\">Bubblegumshoe</option>\n<option value=\"750\">Vornheim</option>\n<option value=\"753\">Pokethulhu</option>\n<option value=\"754\">Ravnica</option>\n<option value=\"755\">Мутанты. Точка Отсчёта</option>\n<option value=\"758\">Halcyon City</option>\n<option value=\"762\">Rokugan</option>\n<option value=\"766\">Cyberpunk Red</option>\n<option value=\"771\">Шаданакар</option>\n<option value=\"773\">Mage: The Ascension</option>\n<option value=\"774\">Adventures in Middle-earth (Приключения в Средиземье)</option>\n<option value=\"775\">Star Trek Adventures (Звёздный Путь: Приключения в космосе)</option>\n<option value=\"776\">Мистическая Япония</option>\n<option value=\"779\">Англия 1920-х годов</option>\n<option value=\"780\">Interface Zero</option>\n<option value=\"781\">Thedas</option>\n<option value=\"782\">Макабрическая Русь</option>\n<option value=\"785\">Внутренние Тени</option>\n<option value=\"789\">Советские мультфильмы</option>\n<option value=\"791\">Altered Carbon</option>\n<option value=\"794\">Spelljammer</option>\n<option value=\"798\">Finsterland</option>\n<option value=\"803\">Dragon Age RPG</option>\n<option value=\"805\">Nuada</option>\n<option value=\"807\">Гностицизм</option>\n<option value=\"809\">Al-Quadim</option>\n<option value=\"810\">Eberron</option>\n<option value=\"815\">Lancer</option>\n<option value=\"821\">Touhou Project</option>\n<option value=\"827\">Weird Fantasy</option>\n<option value=\"829\">Midgard</option>\n<option value=\"838\">Symbaroum</option>\n<option value=\"842\">Warhammer Fantasy Roleplay 4</option>\n<option value=\"846\">Marlinko</option>\n<option value=\"851\">Root</option>\n<option value=\"855\">Star Wars: The Old Republic</option>\n<option value=\"861\">Хайборийская эра</option>\n<option value=\"867\">Lost Omens</option>\n<option value=\"868\">Broken Compass</option>\n<option value=\"880\">Mörk Borg</option>\n<option value=\"883\">The Elder Scrolls</option>\n<option value=\"885\">Неизвестные армии</option>\n<option value=\"887\">Mad City</option>\n<option value=\"888\">Вперёд в прошлое</option>\n<option value=\"893\">Scum and Villainy</option>\n<option value=\"896\">Points of Light</option>\n<option value=\"898\">Покемон</option>\n<option value=\"899\">Metro 2033</option>\n<option value=\"900\">Electric Bastionland</option>\n<option value=\"902\">70-ые, которых не было</option>\n<option value=\"904\">Spire</option>\n<option value=\"908\">Swords Under the Sun</option>\n<option value=\"913\">Avatar: The Last Airbender</option>\n<option value=\"915\">Адский Босс</option>\n<option value=\"924\">Stickstation 13</option>\n<option value=\"926\">Wicked Ones</option>\n<option value=\"931\">The X Files</option>\n<option value=\"933\">Black Void</option>\n<option value=\"939\">Веа Туароа</option>\n<option value=\"942\">Space Station 13</option>\n<option value=\"946\">Супергероика</option>\n<option value=\"948\">Дюна</option>\n<option value=\"952\">Чужой</option>\n<option value=\"955\">Звериное фентези</option>\n<option value=\"961\">Feywild</option>\n<option value=\"967\">Кальрадия</option>\n<option value=\"968\">Alpha Complex</option>\n<option value=\"969\">Al-Fariq`n</option>\n<option value=\"975\">Android: Shadow of the Beanstalk</option>\n<option value=\"978\">Knights of underbed</option>\n<option value=\"980\">Аррргхъ</option>\n<option value=\"990\">Monster of the Week</option>\n<option value=\"993\">Прокрида Андромеда: Грань вселенной</option>\n<option value=\"994\">Grim Hollow</option>\n<option value=\"999\">Волшебные котята спешат на помощь</option>\n<option value=\"1007\">По ту сторону Врат</option>\n<option value=\"1008\">Blacksad</option>\n<option value=\"1017\">Время до грезящих</option>\n<option value=\"1018\">Dying Earth</option>\n<option value=\"1019\">Городское фэнтези</option>\n<option value=\"1022\">Might &amp; Magic</option>\n<option value=\"1026\">WWII: Африка</option>\n<option value=\"1028\">Twilight Imperium (Сумерки империи)</option>\n<option value=\"1032\">сюрреализм</option>\n<option value=\"1037\">Эквестрия</option>\n<option value=\"1039\">Changeling: the Lost</option>\n<option value=\"1068\">Мультивселенная D&amp;D</option>\n<option value=\"1070\">EZY: Cyber</option>\n<option value=\"1072\">дизельпанк</option>\n<option value=\"1079\">Грёзы Ктулху</option>\n<option value=\"-1\">Заявить свой</option>\n</select><div class=\"help-block\"></div>\n</span>        <span class=\"field-container field-game-genre_id\">\n<select id=\"game-genre_id\" class=\"combobox\" name=\"Game[genre_id]\" data-type=\"genre\" data-placeholder=\"Жанр\" data-suggest-pending=\"1\">\n<option value=\"\">Жанр</option>\n<option value=\"69\">Боевик, головоломка</option>\n<option value=\"70\">Выживание</option>\n<option value=\"71\">Детектив</option>\n<option value=\"72\">Драма</option>\n<option value=\"73\">Интрига</option>\n<option value=\"74\">Киберпанк</option>\n<option value=\"75\">Подземелье</option>\n<option value=\"76\">Приключения</option>\n<option value=\"77\">Триллер</option>\n<option value=\"78\">Ужасы</option>\n<option value=\"81\">киберпанк, фэнтези</option>\n<option value=\"230\">Приключение-Бродилка</option>\n<option value=\"235\">Ужасы\\Психоделика</option>\n<option value=\"237\">Космоопера\\Боевик\\Триллер</option>\n<option value=\"238\">Приключенческое фэнтези</option>\n<option value=\"240\">см. описание</option>\n<option value=\"241\">Приключения, свободная магия</option>\n<option value=\"243\">Экшн, расследование.</option>\n<option value=\"245\">Фэнтези, Боевик</option>\n<option value=\"246\">Приключения\\\\фентези</option>\n<option value=\"248\">Космоопера, детектив, драма, меха-боевик</option>\n<option value=\"252\">Классический детектив</option>\n<option value=\"253\">киберпанк, фентези</option>\n<option value=\"255\">Детектив, космическая фантастика</option>\n<option value=\"257\">Детектив, фэнтези, приключение</option>\n<option value=\"258\">героическое фэнтези</option>\n<option value=\"262\">Постапокалипсис</option>\n<option value=\"265\">Хоррор</option>\n<option value=\"268\">триллер на выживание</option>\n<option value=\"269\">Вестерн\\стимпанк</option>\n<option value=\"273\">transhuman conspiracy and horror</option>\n<option value=\"274\">Фэнтэзи, нуар</option>\n<option value=\"276\">Криминальная комедия/Боевик</option>\n<option value=\"279\">космическая авантюра</option>\n<option value=\"281\">мистический триллер</option>\n<option value=\"285\">экшн, приключения</option>\n<option value=\"288\">Городское фэнтези; триллер; исследования</option>\n<option value=\"291\">спасение мира</option>\n<option value=\"295\">sandbox, постап, истерн, фантастика, приключения</option>\n<option value=\"297\">Фэнтези, данжен-кровл, хоррор</option>\n<option value=\"300\">Сражения с богами и распутывание мифических интриг</option>\n<option value=\"303\">First person mystic action</option>\n<option value=\"305\">Фэнтези</option>\n<option value=\"307\">Экшн, драма</option>\n<option value=\"310\">Детективный боевик</option>\n<option value=\"312\">Вестерн</option>\n<option value=\"315\">Манопанк</option>\n<option value=\"326\">Истерн</option>\n<option value=\"329\">Детектив, хоррор</option>\n<option value=\"330\">Историческое фэнтези</option>\n<option value=\"333\">Primal Punk</option>\n<option value=\"334\">Модерн-фэнтези, мистика</option>\n<option value=\"337\">Детектив, военная драма</option>\n<option value=\"340\">Интрига, Детектив, Самурайская драма</option>\n<option value=\"346\">Детектив, хоррор, викториана</option>\n<option value=\"348\">Комедия, детектив</option>\n<option value=\"352\">Мистический боевик, истерн, треш</option>\n<option value=\"354\">Военная драма</option>\n<option value=\"358\">Историческое фентези, выживание</option>\n<option value=\"366\">Мифы Древней Греции</option>\n<option value=\"373\">выживание, фэнтези, постапокалипсис</option>\n<option value=\"379\">Романтическое фэнтези</option>\n<option value=\"386\">Детектив, мистика, приключения</option>\n<option value=\"390\">Sci-Fi боевик</option>\n<option value=\"391\">Приключенческая история с элементами отчаяния</option>\n<option value=\"393\">Боевик, выживание, ПВП (Игрок против игрока)</option>\n<option value=\"394\">Мистика, интриги, боевик</option>\n<option value=\"395\">мистический боевик</option>\n<option value=\"396\">Драма, триллер, боевик</option>\n<option value=\"406\">Стелс-экшн</option>\n<option value=\"407\">Исследование</option>\n<option value=\"413\">Путешествие, политика.</option>\n<option value=\"415\">Юмористическое фэнтези</option>\n<option value=\"421\">погоня, приключения,</option>\n<option value=\"429\">пиратские приключения</option>\n<option value=\"431\">Махо-седзе</option>\n<option value=\"438\">Zombie Apocalypse</option>\n<option value=\"446\">Psycho-crawler / Психо-краулер</option>\n<option value=\"448\">Расследование, социалка</option>\n<option value=\"451\">Фантастика</option>\n<option value=\"456\">Фентези\\Ужасы</option>\n<option value=\"458\">Детектив, трагикомедия</option>\n<option value=\"463\">Интрига, чёрная комедия</option>\n<option value=\"465\">Совместное придумывание истории</option>\n<option value=\"470\">героическое фэнтези, дэнжн-кроул</option>\n<option value=\"482\">Ориентальное приключение</option>\n<option value=\"487\">Рестлинг</option>\n<option value=\"494\">Арабское фэнтези</option>\n<option value=\"496\">Экшн, хоррор</option>\n<option value=\"506\">Космоопера</option>\n<option value=\"511\">Супергероика</option>\n<option value=\"512\">Очаговое фэнтези</option>\n<option value=\"514\">Выживание, исследование, постапокалипсис</option>\n<option value=\"516\">Детектив, фэнтези</option>\n<option value=\"517\">Мистический запад</option>\n<option value=\"519\">semi-cooperative Sci-Fi horror</option>\n<option value=\"520\">Симулятор армии</option>\n<option value=\"521\">Мистика, исследование</option>\n<option value=\"522\">Свадьба</option>\n<option value=\"524\">Миростроение</option>\n<option value=\"527\">literary cyberpunk</option>\n<option value=\"531\">Городская мистика</option>\n<option value=\"532\">Urban adventures</option>\n<option value=\"538\">Азиатское фентези</option>\n<option value=\"539\">Трэш хоррор</option>\n<option value=\"542\">-</option>\n<option value=\"545\">Suicide team</option>\n<option value=\"547\">Элементали Х</option>\n<option value=\"548\">Космофэнтези</option>\n<option value=\"551\">Космосимулятор</option>\n<option value=\"552\">Я есть закон</option>\n<option value=\"554\">Уся</option>\n<option value=\"556\">Городское фентези; приключение; драма</option>\n<option value=\"565\">Криминальный боевик</option>\n<option value=\"574\">Приключение, фантастика, детектив</option>\n<option value=\"576\">Космоопера, данжен-кроул</option>\n<option value=\"580\">Стёбофэнтези</option>\n<option value=\"581\">Криминальное фентези</option>\n<option value=\"590\">Еврогейм</option>\n<option value=\"592\">Абстракт</option>\n<option value=\"602\">Хоррор, боевик</option>\n<option value=\"605\">Кинематографическая стратегия</option>\n<option value=\"607\">Боевик</option>\n<option value=\"610\">Постмодерн</option>\n<option value=\"612\">Боевик\\Исследование</option>\n<option value=\"622\">Гонки, боевик</option>\n<option value=\"626\">Мифические приключения</option>\n<option value=\"630\">Young Adult</option>\n<option value=\"632\">Детектив, супергероика, трагикомедия</option>\n<option value=\"640\">Пост-постапокалипсис</option>\n<option value=\"641\">Городское фентези, расследование</option>\n<option value=\"642\">Фантастика с элементами киберпанка</option>\n<option value=\"648\">Темное фентези</option>\n<option value=\"661\">Путешествия во времени</option>\n<option value=\"664\">Heist</option>\n<option value=\"668\">Микроменеджмент</option>\n<option value=\"672\">Дейтсим/боди-хоррор</option>\n<option value=\"678\">Trash Horror, политический триллер</option>\n<option value=\"680\">Gore Comedy/Kingsmaker</option>\n<option value=\"683\">Мелодрама</option>\n<option value=\"687\">Война</option>\n<option value=\"699\">Heroic Sci-Fi</option>\n<option value=\"707\">OSR</option>\n<option value=\"770\">Мистификация</option>\n<option value=\"778\">Чёрная комедия</option>\n<option value=\"783\">Драма, политика</option>\n<option value=\"793\">Тёмное фэнтези</option>\n<option value=\"797\">Science Fantasy</option>\n<option value=\"800\">Steampunk Fantasie</option>\n<option value=\"808\">Стимпанк\\Фэнтези\\Приключения</option>\n<option value=\"816\">Меха</option>\n<option value=\"817\">Обучающая игра</option>\n<option value=\"831\">Battle Royale</option>\n<option value=\"844\">Скандалы, интриги, расследования</option>\n<option value=\"849\">Slice of life</option>\n<option value=\"852\">Шпионский детектив</option>\n<option value=\"853\">Драма, детектив</option>\n<option value=\"856\">Мистический Вестерн</option>\n<option value=\"860\">&quot;меч и магия&quot;</option>\n<option value=\"865\">Городское фентези, приключение</option>\n<option value=\"873\">Мистика</option>\n<option value=\"886\">боди-хоррор</option>\n<option value=\"892\">Паранормальное шпионское приключение</option>\n<option value=\"906\">Британское фэнтези</option>\n<option value=\"917\">Приключения, интриги, моральный выбор</option>\n<option value=\"920\">Детектив, боевик, драма</option>\n<option value=\"947\">Шаманское фэнтези</option>\n<option value=\"950\">Фантастика/Приключения/Интрига</option>\n<option value=\"953\">Фантастика/Хоррор</option>\n<option value=\"954\">Нуар, мистика</option>\n<option value=\"964\">Интриги, детектив, мистика</option>\n<option value=\"966\">Космический вестерн</option>\n<option value=\"984\">деревенское фэнтези</option>\n<option value=\"996\">Экшн, мелодрама</option>\n<option value=\"1001\">Юмористическое приключение с элементами детектива</option>\n<option value=\"1006\">детектив и политическая сатира</option>\n<option value=\"1031\">дорожное приключение</option>\n<option value=\"1035\">Стимпанк\\Мистика\\Приключения</option>\n<option value=\"1041\">weird fantasy</option>\n<option value=\"1047\">комедия, фарс, феерия</option>\n<option value=\"1051\">Городская мистика с элементами детектива, уличные гонки</option>\n<option value=\"1052\">Космическая опера\\Ужасы\\Робинзонада</option>\n<option value=\"1066\">Плащи и шпаги</option>\n<option value=\"1067\">Мечи и колдовство</option>\n<option value=\"1073\">Трагикомедия</option>\n<option value=\"-1\">Заявить свой</option>\n</select><div class=\"help-block\"></div>\n</span>        <span class=\"field-container field-game-program_id\">\n<select id=\"game-program_id\" class=\"combobox\" name=\"Game[program_id]\" data-type=\"program\" data-placeholder=\"Программа\" data-suggest-pending=\"1\">\n<option value=\"\">Программа</option>\n<option value=\"79\">D&amp;D Adventurers League</option>\n<option value=\"80\">Pathfinder Society</option>\n<option value=\"229\">Ловец снов</option>\n<option value=\"360\">Dark Nights</option>\n<option value=\"387\">Мифы Ктулху</option>\n<option value=\"441\">Для начинающих игроков в настольные ролевые игры.</option>\n<option value=\"461\">Ночь Тёмного жанра</option>\n<option value=\"467\">Cult of Chaos</option>\n<option value=\"478\">Starfinder Society</option>\n<option value=\"504\">Менты Ultracommonbasicofficial228</option>\n<option value=\"529\">Frontier</option>\n<option value=\"560\">Dungeons &amp; Dragons</option>\n<option value=\"651\">Историческая Настольная Игра</option>\n<option value=\"656\">Warhammer</option>\n<option value=\"-2\">Настольные игры</option>\n<option value=\"686\">Другое</option>\n<option value=\"698\">Crucible Corps</option>\n<option value=\"714\">Ужас Аркхэма (карточный)</option>\n<option value=\"739\">Темный жанр</option>\n<option value=\"940\">ExN+RL | GM&#039;s squad</option>\n<option value=\"1053\">Подойдет как для опытных, так и для начинающих игроков</option>\n<option value=\"-1\">Заявить свою</option>\n</select><div class=\"help-block\"></div>\n</span>    </div>\n\n    <div id=\"newattr-wr\"></div>\n\n    <span class=\"field-container field-game-description\">\n<textarea id=\"game-description\" class=\"form-control\" name=\"Game[description]\" rows=\"8\" placeholder=\"Описание игры\"></textarea><div class=\"help-block\"></div>\n</span>    <span class=\"field-container field-game-notes\">\n<textarea id=\"game-notes\" class=\"form-control\" name=\"Game[notes]\" rows=\"8\" placeholder=\"Примечание\"></textarea><div class=\"help-block\"></div>\n</span>    <div class=\"leader\">Ведущий: <span>kettari</span></div>\n    <div class=\"button-elems\">\n        <button type=\"submit\" class=\"button blue size260\">Отправить заявку</button>\n                <a class=\"button grey size260 js-modal-close\">Отменить заявку</a>\n            </div>\n</form>    </div>\n</div>\n\n    <div class=\"footer\">\n        <div class=\"content\">\n            <div class=\"copy\">&copy; Ролекон, 2025</div>\n            <div class=\"socials\">\n                <a href=\"//vk.com/rolecon\" class=\"social social-vk\"></a>\n                <!-- <a href=\"#\" class=\"social social-gg\"></a> -->\n                <a href=\"//twitter.com/rolecon\" class=\"social social-tw\"></a>\n                <!-- <a href=\"#\" class=\"social social-in\"></a> -->\n            </div>\n            <div class=\"copy socials\">связь с организаторами <a href=\"mailto:reception@rolecon.ru\">reception@rolecon.ru</a></div>\n        </div>\n    </div>\n\n        <script>\n        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n        ga('create', 'UA-68126694-1', 'auto');\n        ga('send', 'pageview');\n    </script>\n    \n    <div id=\"mask\"></div>\n\n    <div class=\"modalwindow\" id=\"request-game-ok\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"ok\"></div>\n            <div class=\"text\">Ваша заявка принята</div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"request-game-no\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"no\"></div>\n            <div class=\"text\">\n                Заявка поставлена в очередь. Вы будете оповещены по электронной почте, если на игру освободятся места.\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"enter\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"left\">\n                <form action=\"/user/login\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">                    <div class=\"caption\">Вход на сайт</div>\n                    <input type=\"text\" id=\"loginform-username\" class=\"validate\" name=\"LoginForm[username]\" placeholder=\"Логин\">                    <input type=\"password\" id=\"loginform-password\" class=\"validate\" name=\"LoginForm[password]\" placeholder=\"Пароль\">                    <input type=hidden name=\"returnUrl\">\n                    <button type=\"submit\" class=\"button blue send size100\">Войти</button>\n                </form>                <div class=\"bottom\">\n                    <a href=\"/user/passreset\">Забыли пароль?</a>\n                    <div class=\"modal\" data-window=\"register\">Регистрация</div>\n                </div>\n            </div>\n            <div class=\"right\">\n                <div class=\"caption\">Вход через соц. сети</div>\n                <div class=\"button-elems\">\n                    <div id=\"w0\">                                            <a href=\"/user/auth?authclient=google\" class=\"button button-google size100\"><div class=\"icon\"></div> Вход через Google</a>\n                                            <a href=\"/user/auth?authclient=vkontakte\" class=\"button button-vkontakte size100\"><div class=\"icon\"></div> Вход через VK</a>\n                                        </div>                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"register\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"left\">\n                <form action=\"/user/signup\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"D1zFO8GjGgZipbEsEM2YW79b3vCPKEBaZjRKbRQv7EtrC_RxgOJMViXj-QFllMsuiwOml9ViJ25QcAMIdnyWZg==\">                <div class=\"caption\">Регистрация</div>\n                <input type=\"text\" id=\"signupform-username\" class=\"validate\" name=\"SignupForm[username]\" placeholder=\"Логин\">                <input type=\"text\" id=\"signupform-email\" class=\"validate\" name=\"SignupForm[email]\" placeholder=\"E-mail\">                <input type=\"password\" id=\"signupform-password\" class=\"validate\" name=\"SignupForm[password]\" placeholder=\"Пароль\">                <input type=\"password\" id=\"signupform-password_retry\" class=\"validate\" name=\"SignupForm[password_retry]\" placeholder=\"Повторите пароль\">                <input type=hidden name=\"returnUrl\">\n                <button type=\"submit\" class=\"button blue size100 send\">Зарегистрироваться</button>\n                </form>                <div class=\"bottom\">\n                    <div class=\"modal\" data-window=\"enter\">Вход</div>\n                </div>\n            </div>\n            <div class=\"right\">\n                <div class=\"caption\">Вход через соц. сети</div>\n                <div class=\"button-elems\">\n                    <div id=\"w1\">                                                <a href=\"/user/auth?authclient=google\" class=\"button button-google size100\"><div class=\"icon\"></div> Вход через Google</a>\n                                                <a href=\"/user/auth?authclient=vkontakte\" class=\"button button-vkontakte size100\"><div class=\"icon\"></div> Вход через VK</a>\n                                            </div>                </div>\n            </div>\n        </div>\n    </div>\n\n<!-- VK Widget -->\n<div id=\"vk_community_messages\"></div>\n<script>\nVK.Widgets.CommunityMessages(\"vk_community_messages\", 27054132, {tooltipButtonText: \"Привет! Если есть вопросы — задавайте, мы ответим.\"});\n</script>\n<script src=\"/assets/aca86e16/jquery.min.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.validation.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.activeForm.js?v=1664297235\"></script>\n<script src=\"/assets/162ef97e/easymde.min.js?v=1664297249\"></script>\n<script src=\"/js/game-request.js?v=1664297126\"></script>\n<script src=\"/assets/3572ab83/flatpickr.min.js?v=1664297252\"></script>\n<script src=\"/assets/3572ab83/l10n/ru.js?v=1664297252\"></script>\n<script src=\"/assets/ba3eaa0b/jquery-ui.min.js?v=1664297237\"></script>\n<script src=\"/js/common.js?v=1664297126\"></script>\n<script>jQuery(function ($) {\njQuery('#commentform').yiiActiveForm([{\"id\":\"comment-content\",\"name\":\"content\",\"container\":\".field-comment-content\",\"input\":\"#comment-content\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Текст».\"});value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Текст» должно быть строкой.\",\"min\":5,\"tooShort\":\"Значение «Текст» должно содержать минимум 5 символов.\",\"max\":1000,\"tooLong\":\"Значение «Текст» должно содержать максимум 1 000 символов.\",\"skipOnEmpty\":1});}}], {\"errorCssClass\":\"red\"});\njQuery('#answerform').yiiActiveForm([{\"id\":\"comment-content\",\"name\":\"content\",\"container\":\".field-comment-content\",\"input\":\"#comment-content\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Текст».\"});value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Текст» должно быть строкой.\",\"min\":5,\"tooShort\":\"Значение «Текст» должно содержать минимум 5 символов.\",\"max\":1000,\"tooLong\":\"Значение «Текст» должно содержать максимум 1 000 символов.\",\"skipOnEmpty\":1});}},{\"id\":\"comment-parent_id\",\"name\":\"parent_id\",\"container\":\".field-comment-parent_id\",\"input\":\"#comment-parent_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {\"pattern\":/^[+-]?\\d+$/,\"message\":\"Значение «Parent Id» должно быть целым числом.\",\"min\":1,\"tooSmall\":\"Значение «Parent Id» должно быть не меньше 1.\",\"skipOnEmpty\":1});}}], {\"errorCssClass\":\"red\"});\nflatpickr(\".flatpickr\", {\"locale\":\"ru\",\"allowInput\":true,\"enableTime\":true,\"time_24hr\":true,\"dateFormat\":\"Y-m-d H:i\",\"minDate\":\"2025-04-19T10:30:00+03:00\",\"maxDate\":\"2025-04-20T21:00:00+03:00\"});\njQuery('#gameform').yiiActiveForm([{\"id\":\"game-title\",\"name\":\"title\",\"container\":\".field-game-title\",\"input\":\"#game-title\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {value = yii.validation.trim($form, attribute, [], value);yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Название игры».\"});yii.validation.string(value, messages, {\"message\":\"Значение «Название игры» должно быть строкой.\",\"min\":2,\"tooShort\":\"Значение «Название игры» должно содержать минимум 2 символа.\",\"max\":128,\"tooLong\":\"Значение «Название игры» должно содержать максимум 128 символов.\",\"skipOnEmpty\":1});}},{\"id\":\"game-image_src\",\"name\":\"image_src\",\"container\":\".field-game-image_src\",\"input\":\"#game-image_src\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.file(attribute, messages, {\"message\":\"Загрузка файла не удалась.\",\"skipOnEmpty\":true,\"mimeTypes\":[],\"wrongMimeType\":\"Разрешена загрузка файлов только со следующими MIME-типами: .\",\"extensions\":[\"png\",\"jpg\",\"jpeg\",\"gif\"],\"wrongExtension\":\"Разрешена загрузка файлов только со следующими расширениями: png, jpg, jpeg, gif.\",\"maxSize\":10485760,\"tooBig\":\"Файл «{file}» слишком большой. Размер не должен превышать 10 МиБ.\",\"maxFiles\":1,\"tooMany\":\"Вы не можете загружать более 1 файла.\"});}},{\"id\":\"game-timeslot_id\",\"name\":\"timeslot_id\",\"container\":\".field-game-timeslot_id\",\"input\":\"#game-timeslot_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {if ((function(a,v) { return window.block_type == \"fixed\" })(attribute, value)) { yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Время проведения».\"}); }}},{\"id\":\"game-signup\",\"name\":\"signup\",\"container\":\".field-game-signup\",\"input\":\"#game-signup\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Формат игры».\"});yii.validation.range(value, messages, {\"range\":[\"disabled\",\"free\"],\"not\":false,\"message\":\"Значение «Формат игры» неверно.\",\"skipOnEmpty\":1});}},{\"id\":\"game-places\",\"name\":\"places\",\"container\":\".field-game-places\",\"input\":\"#game-places\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {if ((function (attribute, value) { return $(\"#game-signup\").val() != \"disabled\"; })(attribute, value)) { yii.validation.range(value, messages, {\"range\":[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"],\"not\":false,\"message\":\"Значение «Число игроков» неверно.\"}); }}},{\"id\":\"game-system_id\",\"name\":\"system_id\",\"container\":\".field-game-system_id\",\"input\":\"#game-system_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {if ((function(a,v) {return a.$form.find(\"[name=\\\"Game[program_id]\\\"]\").val() != -2;})(attribute, value)) { yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Система».\"}); }}},{\"id\":\"game-setting_id\",\"name\":\"setting_id\",\"container\":\".field-game-setting_id\",\"input\":\"#game-setting_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {if ((function(a,v) {return a.$form.find(\"[name=\\\"Game[program_id]\\\"]\").val() != -2;})(attribute, value)) { yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Сеттинг».\"}); }}},{\"id\":\"game-genre_id\",\"name\":\"genre_id\",\"container\":\".field-game-genre_id\",\"input\":\"#game-genre_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {if ((function(a,v) {return a.$form.find(\"[name=\\\"Game[program_id]\\\"]\").val() != -2;})(attribute, value)) { yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Жанр».\"}); }}},{\"id\":\"game-program_id\",\"name\":\"program_id\",\"container\":\".field-game-program_id\",\"input\":\"#game-program_id\",\"enableAjaxValidation\":true},{\"id\":\"game-description\",\"name\":\"description\",\"container\":\".field-game-description\",\"input\":\"#game-description\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Описание игры» должно быть строкой.\",\"max\":40000,\"tooLong\":\"Значение «Описание игры» должно содержать максимум 40 000 символов.\",\"skipOnEmpty\":1});}},{\"id\":\"game-notes\",\"name\":\"notes\",\"container\":\".field-game-notes\",\"input\":\"#game-notes\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Примечание» должно быть строкой.\",\"max\":40000,\"tooLong\":\"Значение «Примечание» должно содержать максимум 40 000 символов.\",\"skipOnEmpty\":1});}}], {\"errorCssClass\":\"red\"});\n});</script></body>\n</html>\n",
			},
			{URL: "https://rolecon.ru/game/17428", Html: "\n<!DOCTYPE html>\n<html lang=\"ru-RU\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <meta name='yandex-verification' content='7d6296cf174808ec' />\n    <meta name=\"csrf-param\" content=\"_csrf\">\n<meta name=\"csrf-token\" content=\"W9elIxrEulQxTf8xd-ZeC2LkjVLEouA_EqWquCrmRSw_gJRpW4XsBHYLtxwCvw1-Vrz1NZ7ohwsk4ePdSLU_AQ==\">\n    <title>Сокровище города мастеров – Ролекон</title>\n    <meta name=\"title\" content=\"Сокровище города мастеров – Свободные игры\">\n<meta name=\"description\" content=\"Войны обошли Чернокотельск стороной. Конечно, как и любой город Красной Земли, он натерпелся всяческих лишений: от голода до террора, но не пал и не превратился в руины. Достаток обеспечен тремя артелями оружейных мастеров и кузнецов, что снабжают...\">\n<meta property=\"og:title\" content=\"Сокровище города мастеров – Свободные игры\">\n<meta property=\"og:description\" content=\"Войны обошли Чернокотельск стороной. Конечно, как и любой город Красной Земли, он натерпелся всяческих лишений: от голода до террора, но не пал и не превратился в руины. Достаток обеспечен тремя артелями оружейных мастеров и кузнецов, что снабжают...\">\n<meta property=\"og:type\" content=\"website\">\n<meta property=\"og:url\" content=\"https://rolecon.ru/game/17428\">\n<meta property=\"og:image\" content=\"https://rolecon.ru/uploads/2025-04/NNl8XQF1EY-1744277954.jpg\">\n<link href=\"https://rolecon.ru/uploads/2025-04/NNl8XQF1EY-1744277954.jpg\" rel=\"image_src\">\n<link href=\"/css/fonts.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/common.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/main.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/css/extra.css?v=1664297126\" rel=\"stylesheet\">\n<link href=\"/assets/ba3eaa0b/themes/base/jquery-ui.min.css?v=1664297238\" rel=\"stylesheet\">\n<link href=\"/assets/a5200bd0/authchoice.css?v=1664297237\" rel=\"stylesheet\">\n<script src=\"http://vk.com/js/api/share.js?92\" charset=\"utf8\"></script>\n<script src=\"//vk.com/js/api/openapi.js?116\"></script></head>\n<body>\n\n        <!-- Yandex.Metrika counter -->\n    <script>\n    (function (d, w, c) {\n        (w[c] = w[c] || []).push(function() {\n            try {\n                w.yaCounter32474625 = new Ya.Metrika({\n                    id:32474625,\n                    clickmap:true,\n                    trackLinks:true,\n                    accurateTrackBounce:true,\n                    webvisor:true,\n                    trackHash:true\n                });\n            } catch(e) { }\n        });\n\n        var n = d.getElementsByTagName(\"script\")[0],\n            s = d.createElement(\"script\"),\n            f = function () { n.parentNode.insertBefore(s, n); };\n            s.type = \"text/javascript\";\n            s.async = true;\n            s.src = \"https://mc.yandex.ru/metrika/watch.js\";\n\n        if (w.opera == \"[object Opera]\") {\n            d.addEventListener(\"DOMContentLoaded\", f, false);\n        } else { f(); }\n    })(document, window, \"yandex_metrika_callbacks\");\n    </script>\n    <noscript><div><img src=\"https://mc.yandex.ru/watch/32474625\" style=\"position:absolute; left:-9999px;\" alt=\"\" /></div></noscript>\n    <!-- /Yandex.Metrika counter -->\n    \n    <div class=\"header\">\n        <div class=\"auth-block\">\n            <div class=\"content\">\n                            <div class=\"authed\">\n                                                            <div class=\"authed-hover\">\n                        <div class=\"photo\"><img src=\"/images/no-photo_24x24.png\" alt=\"no avatar\"></div>\n                        <a href=\"/profile\">\n                            kettari                        </a>\n                        <img src='/images/select-arrow.png' alt=\"Меню пользователя\">\n                        <ul class=\"auth-menu\">\n                                                        <li><a href=\"/profile\">Профиль</a></li>\n                            <li><a href=\"/user/update\">Редактировать</a></li>\n                            <li><a href=\"/chat/index\">Чаты</a>\n                            <li><a href=\"/user/logout\" data-method=\"post\">Выйти</a></li>\n                        </ul>\n                    </div>\n                </div>\n                        </div>\n        </div>\n\n        <div class=\"menu\" id=\"menu\">\n            <div class=\"content\">\n                <a href=\"/\" class=\"logo\"><img src=\"/images/LOGO_HEADER.png\" alt=\"Rolecon\"></a>\n                <a id=\"collapse-menu\" href=\"#menu\"></a>\n                <nav>\n                    <a href=\"/event/view-free\">Календарь</a>                    <a href=\"/event\">События</a>                    <!-- <li><a href=\"/blog\">Блог</a></li> -->\n                    <a href=\"/gamesearch\">Поиск игр</a>                    <a href=\"/about-rolecon\">Что такое ролекон</a>                    <!-- <li><a href=\"/site/leading\">Ведущему</a></li> -->\n                    <a href=\"/league\">Ведущая лига</a>                    <a href=\"/partners\">Наши партнёры</a>                    <a id=\"exit-menu\" href=\"#\">X</a>\n                </nav>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"wrapper\">\n    <div class=\"page-padding\"></div>\n\n    <div class=\"content event-inner\">\n        <div class=\"game-single\">\n                        <h4>Сокровище города мастеров</h4>\n            <p class=\"subcaption-h4\">\n                16 апреля 2025,\n19:00 - 23:00            </p>\n                <table class=\"table-single reverse\">\n                    <tr>\n                        <td>Сеттинг:</td>\n                        <td>Красная Земля</td>\n                    </tr>\n                    <tr>\n                        <td>Система:</td>\n                        <td>Fate Core</td>\n                    </tr>\n                    <tr>\n                        <td>Жанр:</td>\n                        <td>Приключения</td>\n                    </tr>\n                                        <tr>\n                        <td>Программа:</td>\n                        <td>Подойдет как для опытных, так и для начинающих игроков</td>\n                    </tr>\n                                                            <tr>\n                        <td>Игру проводит:</td>\n                        <td><a href=\"/user/4318\">Crezyl_violet</a>                                                </td>\n                    </tr>\n                                                            <tr>\n                        <td>Места:</td>\n                        <td>Осталось 1 мест из 3</td>\n                    </tr>\n                                    </table>\n                                <div class=\"i-notes\">\n                    <div class=\"game-description\"><p>2 человека по предзаписи + люди по записи + мастер\nСсылка на чат игры будет выслана в личные сообщения на этом сайте. Вступать не обязательно (по желанию)</p>\n<p>Возрастное ограничение 18+</p>\n<p>Знания системы, сеттинга и истории не обязательны</p>\n<p>Подходит в том числе для начинающих игроков</p>\n<p>Заранее сгенерированные персонажи (прегены) — будут</p>\n<p>Сценарий рассчитан на одну игровую сессию</p>\n<p>Контакт для связи: <a href=\"https://vk.com/id88852697\">https://vk.com/id88852697</a></p></div>\n                </div>\n                                <div class=\"i-description\">\n                    <div class=\"caption\">Описание</div>\n                    <div class=\"game-description\"><p>Войны обошли Чернокотельск стороной. Конечно, как и любой город Красной Земли, он натерпелся всяческих лишений: от голода до террора, но не пал и не превратился в руины. Достаток обеспечен тремя артелями оружейных мастеров и кузнецов, что снабжают винтовками и средствами умерщвления ближнего своего всех готовых платить. Вот и сейчас — в Чернокотельске появилась группа лихих людей, весьма заинтересованных в продукции артели, только они собираются сильно сэкономить…</p></div>\n                                        <div class=\"img\"><img class=\"game-image\" src=\"/uploads/2025-04/NNl8XQF1EY-1744277954.jpg\" alt=\"Сокровище города мастеров\"></div>\n                    \n                    <div class=\"share-vk\">\n                        <script type=\"text/javascript\">\n                            <!--\n                                document.write(VK.Share.button(false, {type: \"round\", text: \"Поделиться\"}));\n                            -->\n                        </script>\n                    </div>\n\n                </div>\n\n                                <div class=\"i-gamers\">\n                                        <div class=\"caption\">Список заявившихся игроков</div>\n                    <ul>\n                                                                                <li><a href=\"/user/4906\">Happy Velve</a>                                                            </li>\n                                                                                <li><a href=\"/user/4922\">zeiran</a>                                                            </li>\n                                            </ul>\n                                        <div class=\"buttons\">\n                                            </div>\n                </div>\n                            </div>\n        </div>\n    </div>\n\n    <div id=\"comment-container\">\n    <div class=\"white-block page-padding comments\">\n    <div class=\"content\">\n    \n        <div class=\"caption\">Комментарии(1):</div>\n        \n                    <form id=\"commentform\" class=\"add-comment\" action=\"/site/comment/17428?type=game\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"W9elIxrEulQxTf8xd-ZeC2LkjVLEouA_EqWquCrmRSw_gJRpW4XsBHYLtxwCvw1-Vrz1NZ7ohwsk4ePdSLU_AQ==\">            <span class=\"field-container field-comment-content required\">\n<label class=\"control-label\" for=\"comment-content\">Добавить комментарий</label>\n<textarea id=\"comment-content\" class=\"form-control\" name=\"Comment[content]\" rows=\"6\" aria-required=\"true\"></textarea>\n</span>            <button type=\"submit\" class=\"button blue\">Отправить</button>            </form>\n                            <form id=\"answerform\" class=\"add-comment need-answer\" action=\"/site/comment/17428?type=game\" method=\"post\" style=\"display: none\">\n<input type=\"hidden\" name=\"_csrf\" value=\"W9elIxrEulQxTf8xd-ZeC2LkjVLEouA_EqWquCrmRSw_gJRpW4XsBHYLtxwCvw1-Vrz1NZ7ohwsk4ePdSLU_AQ==\">                <span class=\"field-container field-comment-content required\">\n<label class=\"control-label\" for=\"comment-content\">Ответить</label>\n<textarea id=\"comment-content\" class=\"form-control\" name=\"Comment[content]\" rows=\"6\" aria-required=\"true\"></textarea>\n</span>                <span class=\"field-container field-comment-parent_id\">\n\n<input type=\"hidden\" id=\"comment-parent_id\" class=\"form-control\" name=\"Comment[parent_id]\">\n</span>                <button type=\"submit\" class=\"button blue\">Отправить</button>                </form>                    \n                \n        <ul class=\"comment-blocks\">\n                            <li class=\"comment-block\" data-id=\"5446\">\n    <div class=\"avatar\"><a href=\"/user/4318\"><img src=\"/images/avatar.png\" alt=\"Crezyl_violet\"></a></div>\n    <div class=\"comment-block-inner\">\n        <div class=\"date\">16.04.2025 10:27</div>\n        <div class=\"name\"><a class=\"no-underline\" href=\"/user/4318\">Crezyl_violet</a></div>\n        <div class=\"comment-text\">\n            <p>\n                Один человек заболел и выписался, но записался другой по предзаписи. Если больше никто не выпишется, игра состоится            </p>\n        </div>\n                <div class=\"answer block-icon-text\">\n            <div class=\"icon\"></div> <div class=\"text\">Ответить</div>\n        </div>\n            </div>\n    </li>                    </ul>\n\n        \n                \n    </div>\n</div>\n    </div>\n\n</div>\n\n    <div class=\"footer\">\n        <div class=\"content\">\n            <div class=\"copy\">&copy; Ролекон, 2025</div>\n            <div class=\"socials\">\n                <a href=\"//vk.com/rolecon\" class=\"social social-vk\"></a>\n                <!-- <a href=\"#\" class=\"social social-gg\"></a> -->\n                <a href=\"//twitter.com/rolecon\" class=\"social social-tw\"></a>\n                <!-- <a href=\"#\" class=\"social social-in\"></a> -->\n            </div>\n            <div class=\"copy socials\">связь с организаторами <a href=\"mailto:reception@rolecon.ru\">reception@rolecon.ru</a></div>\n        </div>\n    </div>\n\n        <script>\n        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n        ga('create', 'UA-68126694-1', 'auto');\n        ga('send', 'pageview');\n    </script>\n    \n    <div id=\"mask\"></div>\n\n    <div class=\"modalwindow\" id=\"request-game-ok\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"ok\"></div>\n            <div class=\"text\">Ваша заявка принята</div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"request-game-no\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"no\"></div>\n            <div class=\"text\">\n                Заявка поставлена в очередь. Вы будете оповещены по электронной почте, если на игру освободятся места.\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"enter\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"left\">\n                <form action=\"/user/login\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"W9elIxrEulQxTf8xd-ZeC2LkjVLEouA_EqWquCrmRSw_gJRpW4XsBHYLtxwCvw1-Vrz1NZ7ohwsk4ePdSLU_AQ==\">                    <div class=\"caption\">Вход на сайт</div>\n                    <input type=\"text\" id=\"loginform-username\" class=\"validate\" name=\"LoginForm[username]\" placeholder=\"Логин\">                    <input type=\"password\" id=\"loginform-password\" class=\"validate\" name=\"LoginForm[password]\" placeholder=\"Пароль\">                    <input type=hidden name=\"returnUrl\">\n                    <button type=\"submit\" class=\"button blue send size100\">Войти</button>\n                </form>                <div class=\"bottom\">\n                    <a href=\"/user/passreset\">Забыли пароль?</a>\n                    <div class=\"modal\" data-window=\"register\">Регистрация</div>\n                </div>\n            </div>\n            <div class=\"right\">\n                <div class=\"caption\">Вход через соц. сети</div>\n                <div class=\"button-elems\">\n                    <div id=\"w0\">                                            <a href=\"/user/auth?authclient=google\" class=\"button button-google size100\"><div class=\"icon\"></div> Вход через Google</a>\n                                            <a href=\"/user/auth?authclient=vkontakte\" class=\"button button-vkontakte size100\"><div class=\"icon\"></div> Вход через VK</a>\n                                        </div>                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modalwindow\" id=\"register\">\n        <div class=\"close\"></div>\n        <div class=\"window-inner\">\n            <div class=\"left\">\n                <form action=\"/user/signup\" method=\"post\">\n<input type=\"hidden\" name=\"_csrf\" value=\"W9elIxrEulQxTf8xd-ZeC2LkjVLEouA_EqWquCrmRSw_gJRpW4XsBHYLtxwCvw1-Vrz1NZ7ohwsk4ePdSLU_AQ==\">                <div class=\"caption\">Регистрация</div>\n                <input type=\"text\" id=\"signupform-username\" class=\"validate\" name=\"SignupForm[username]\" placeholder=\"Логин\">                <input type=\"text\" id=\"signupform-email\" class=\"validate\" name=\"SignupForm[email]\" placeholder=\"E-mail\">                <input type=\"password\" id=\"signupform-password\" class=\"validate\" name=\"SignupForm[password]\" placeholder=\"Пароль\">                <input type=\"password\" id=\"signupform-password_retry\" class=\"validate\" name=\"SignupForm[password_retry]\" placeholder=\"Повторите пароль\">                <input type=hidden name=\"returnUrl\">\n                <button type=\"submit\" class=\"button blue size100 send\">Зарегистрироваться</button>\n                </form>                <div class=\"bottom\">\n                    <div class=\"modal\" data-window=\"enter\">Вход</div>\n                </div>\n            </div>\n            <div class=\"right\">\n                <div class=\"caption\">Вход через соц. сети</div>\n                <div class=\"button-elems\">\n                    <div id=\"w1\">                                                <a href=\"/user/auth?authclient=google\" class=\"button button-google size100\"><div class=\"icon\"></div> Вход через Google</a>\n                                                <a href=\"/user/auth?authclient=vkontakte\" class=\"button button-vkontakte size100\"><div class=\"icon\"></div> Вход через VK</a>\n                                            </div>                </div>\n            </div>\n        </div>\n    </div>\n\n<!-- VK Widget -->\n<div id=\"vk_community_messages\"></div>\n<script>\nVK.Widgets.CommunityMessages(\"vk_community_messages\", 27054132, {tooltipButtonText: \"Привет! Если есть вопросы — задавайте, мы ответим.\"});\n</script>\n<script src=\"/assets/aca86e16/jquery.min.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.validation.js?v=1664297235\"></script>\n<script src=\"/assets/54d42769/yii.activeForm.js?v=1664297235\"></script>\n<script src=\"/assets/ba3eaa0b/jquery-ui.min.js?v=1664297237\"></script>\n<script src=\"/js/common.js?v=1664297126\"></script>\n<script>jQuery(function ($) {\njQuery('#commentform').yiiActiveForm([{\"id\":\"comment-content\",\"name\":\"content\",\"container\":\".field-comment-content\",\"input\":\"#comment-content\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Текст».\"});value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Текст» должно быть строкой.\",\"min\":5,\"tooShort\":\"Значение «Текст» должно содержать минимум 5 символов.\",\"max\":1000,\"tooLong\":\"Значение «Текст» должно содержать максимум 1 000 символов.\",\"skipOnEmpty\":1});}}], {\"errorCssClass\":\"red\"});\njQuery('#answerform').yiiActiveForm([{\"id\":\"comment-content\",\"name\":\"content\",\"container\":\".field-comment-content\",\"input\":\"#comment-content\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {\"message\":\"Необходимо заполнить «Текст».\"});value = yii.validation.trim($form, attribute, [], value);yii.validation.string(value, messages, {\"message\":\"Значение «Текст» должно быть строкой.\",\"min\":5,\"tooShort\":\"Значение «Текст» должно содержать минимум 5 символов.\",\"max\":1000,\"tooLong\":\"Значение «Текст» должно содержать максимум 1 000 символов.\",\"skipOnEmpty\":1});}},{\"id\":\"comment-parent_id\",\"name\":\"parent_id\",\"container\":\".field-comment-parent_id\",\"input\":\"#comment-parent_id\",\"enableAjaxValidation\":true,\"validate\":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {\"pattern\":/^[+-]?\\d+$/,\"message\":\"Значение «Parent Id» должно быть целым числом.\",\"min\":1,\"tooSmall\":\"Значение «Parent Id» должно быть не меньше 1.\",\"skipOnEmpty\":1});}}], {\"errorCssClass\":\"red\"});\n});</script></body>\n</html>\n"},
		}
	*/

	// Parsing pages
	slog.Debug("parsing pages")
	manager := storage.NewManager(conf.DbConnectionString)
	if err = manager.Connect(); err != nil {
		return err
	}
	schedule := notifier.NewSchedule(manager)
	prsr := parser.NewParser(parser.NewHtmlEngine())
	err = prsr.Parse(&pages, schedule)
	if err != nil {
		return err
	}
	slog.Debug("pages parsed to games", "games_count", len(schedule.Games))

	// Register observers
	b, err := bot.CreateBot(conf.NotificationChatID)
	if err != nil {
		slog.Error("unable to create bot processor object", "error", err)
		return err
	}
	for k, _ := range schedule.Games {
		schedule.Games[k].Register(notifier.NewGameObserver(b))
		schedule.Games[k].Register(notifier.BecomeJoinableGameObserver(b))
		schedule.Games[k].Register(notifier.CancelledGameObserver(b))
	}

	slog.Debug("saving games", "games_count", len(schedule.Games))
	if err = schedule.SaveGames(); err != nil {
		return err
	}
	slog.Debug("games saved", "games_count", len(schedule.Games))

	slog.Debug("check absent games")
	if err = schedule.CheckAbsentGames(); err != nil {
		return err
	}
	slog.Debug("absent games checked")

	slog.Info("schedule fetched")

	return nil
}

// see [https://rksurwase.medium.com/efficient-concurrency-in-go-a-deep-dive-into-the-worker-pool-pattern-for-batch-processing-73cac5a5bdca]
func (cmd *ScheduleFetchCommand) dispatcher(urls []string, workerCount int, pages *[]scraper.Page) {
	jobs := make(chan Job, len(urls))
	results := make(chan Result, len(urls))

	var wg sync.WaitGroup

	// Start workers
	wg.Add(workerCount)
	for w := 1; w <= workerCount; w++ {
		go cmd.worker(w, jobs, results, &wg)
	}

	// Start collecting results
	var resultsWg sync.WaitGroup
	resultsWg.Add(1)
	go cmd.collector(results, &resultsWg, pages)

	// Distribute jobs and wait for completion
	for _, url := range urls {
		jobs <- Job{url: url}
	}
	close(jobs)
	wg.Wait()
	close(results)

	// Ensure all results are collected
	resultsWg.Wait()
}

func (cmd *ScheduleFetchCommand) worker(id int, jobs <-chan Job, results chan<- Result, wg *sync.WaitGroup) {
	slog.Debug("scraping worker started", "id", id)
	defer wg.Done()
	for job := range jobs {
		slog.Debug("worker started processing url", "worker_id", id, "url", job.url)
		pageScraper := scraper.NewPage(job.url)
		var err error
		err = pageScraper.LoadHtml()
		if err != nil {
			results <- Result{url: job.url, html: "", err: fmt.Errorf("job url %s (worker %d) failed to scrape page: %w", job.url, id, err)}
		} else {
			results <- Result{url: job.url, html: pageScraper.Html, err: nil}
		}
		slog.Debug("worker finished processing url", "worker_id", id, "url", job.url)
	}
	slog.Debug("scraping worker finished", "id", id)
}

func (cmd *ScheduleFetchCommand) collector(results <-chan Result, wg *sync.WaitGroup, pages *[]scraper.Page) {
	slog.Debug("collecting results started")
	defer wg.Done()
	for result := range results {
		if result.err == nil {
			slog.Debug("collected event page", "url", result.url, "page_size", len(result.html))
			*pages = append(*pages, scraper.Page{URL: result.url, Html: result.html})
		} else {
			slog.Error("collected error", "url", result.url, "err", result.err)
		}
	}
	slog.Debug("collecting results finished")
}
